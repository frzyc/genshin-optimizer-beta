"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{5658:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},27216:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},73673:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},68164:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},30460:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"InsertLink")},70034:(e,t,n)=>{n.d(t,{Z:()=>r});n(2784);var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube")},17206:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(31461),l=n(80422),r=n(67550),o=n(38951),i=n(2784),c=n(21548),s=n(74637),d=n(25434),u=n(86482),h=n(71765),Z=n(42117),p=n(52903);const m=["artSetKey","setArtSetKey","label"];function g(e){let{artSetKey:t,setArtSetKey:n,label:g=""}=e,f=(0,a.Z)(e,m);const v=(0,d.Z)((()=>s.y.getAll),[]),{t:b}=(0,c.$G)(["artifact","artifactNames_gen"]);g=g||b("artifact:autocompleteLabels.set");const y=(0,i.useMemo)((()=>v?Object.entries(s.y.setKeysByRarities(v)).flatMap((([e,t])=>t.map((t=>({key:t,label:b(`artifactNames_gen:${t}`),grouper:+e}))))).sort(Z.Z):[]),[v,b]),x=(0,i.useCallback)((e=>{var t;return e?null==v||null==(t=v(e))?void 0:t.defIcon:void 0}),[v]);return(0,p.tZ)(u._,Object.assign({options:y,valueKey:t,onChange:n,toImg:x,label:g,groupBy:e=>{var t,n;return null!=(t=null==(n=e.grouper)?void 0:n.toString())?t:""},renderGroup:e=>e.group&&(0,p.BX)(l.Z,{component:r.Z,children:[(0,p.BX)(o.Z,{sx:{top:"-1em"},children:[e.group," ",(0,p.tZ)(h.q,{stars:+e.group})]},`${e.group}Header`),e.children]},e.group)},f))}},86113:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67550),l=n(62197),r=n(52903);function o({avatar:e,title:t,action:n}){return(0,r.BX)(a.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[e,(0,r.tZ)(l.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),n&&(0,r.tZ)(l.Z,{variant:"caption",children:n})]})}},73740:(e,t,n)=>{n.d(t,{X:()=>M,Z:()=>W});var a=n(67550),l=n(62197),r=n(56961),o=n(2784),i=n(790),c=n(41015),s=n(87985),d=n(86113),u=n(7671),h=n(64919),Z=n(5658),p=n(27216),m=n(83249),g=n(94380),f=n(38553),v=n(53710),b=n(45475),y=n(83673),x=n(21845),C=n(52903);function w({conditional:e,disabled:t=!1}){return 1===Object.keys(e.states).length&&"path"in e?(0,C.tZ)(_,{conditional:e,disabled:t}):"path"in e?(0,C.tZ)(k,{conditional:e,disabled:t}):(0,C.tZ)(H,{conditional:e,disabled:t})}function _({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,o.useContext)(v.K),{data:l}=(0,o.useContext)(i.R),r=(0,o.useCallback)((t=>{const l=(0,c.I8)(n.conditional);t?(0,c.SR)(l,e.path,t):(0,c.uH)(l,e.path),a({conditional:l})}),[e,n,a]),s=l.get(e.value).value,[d,u]=Object.entries(e.states)[0],h=S(u.name),g=P(e.name);return(0,C.BX)(m.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:s?"success":"primary",onClick:()=>r(s?void 0:d),disabled:t,startIcon:s?(0,C.tZ)(Z.Z,{}):(0,C.tZ)(p.Z,{}),children:[g," ",h]})}function k({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,o.useContext)(v.K),{data:l}=(0,o.useContext)(i.R),s=(0,o.useCallback)((t=>{const l=(0,c.I8)(n.conditional);t?(0,c.SR)(l,e.path,t):(0,c.uH)(l,e.path),a({conditional:l})}),[e,n,a]),d=l.get(e.value).value,u=d?e.states[d]:void 0,h=u?S(u.name):(0,C.tZ)(y.Z,{color:"secondary",children:"Not Active"}),Z=P(e.name);return(0,C.BX)(b.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:d?"success":"primary",title:(0,C.BX)("span",{children:[Z," ",h]}),disabled:t,children:[(0,C.tZ)(g.Z,{onClick:()=>s(),selected:!u,disabled:!u,children:(0,C.tZ)("span",{children:"Not Active"})}),(0,C.tZ)(r.Z,{}),Object.entries(e.states).map((([e,t])=>(0,C.tZ)(g.Z,{onClick:()=>s(e),selected:d===e,disabled:d===e,children:t.name},e)))]})}function H({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,o.useContext)(v.K),{data:l}=(0,o.useContext)(i.R),r=(0,o.useCallback)(((e,t)=>{const l=(0,c.I8)(n.conditional);t?(0,c.SR)(l,e,t):(0,c.uH)(l,e),a({conditional:l})}),[n,a]);return(0,C.tZ)(f.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(e.states).map((([e,n])=>{const a=l.get(n.value).value,o=a===e;return(0,C.tZ)(m.Z,{color:o?"success":"primary",disabled:t,fullWidth:!0,onClick:()=>r(n.path,a?void 0:e),size:"small",startIcon:o?(0,C.tZ)(Z.Z,{}):(0,C.tZ)(p.Z,{}),sx:{borderRadius:0},children:P(n.name)},e)}))})}function B(e){return"string"!=typeof e}function S(e){if(!e)return"";let t="primary",n=e;return e&&B(e)&&e.props.color&&(t=e.props.color,n=(0,C.tZ)("span",{children:e.props.children})),(0,C.tZ)(y.Z,{sx:{ml:.5},color:t,children:n})}function P(e){if(B(e)){const t=e.props.key18,n=e.props.ns,a=e.props.values;return(0,C.tZ)(x.v,{ns:n,key18:t,values:a,useBadge:!0})}return e}function X({conditional:e,hideHeader:t=!1,hideDesc:n=!1}){const{data:a}=(0,o.useContext)(i.R);let l;if("path"in e){var r;const t=a.get(e.value).value;l=t&&(null==(r=e.states[t])?void 0:r.fields)}else l=Object.values(e.states).flatMap((e=>a.get(e.value).value?e.fields:[]));return(0,C.BX)(s.Z,{children:[!(0,c.mY)(t,e)&&(0,C.tZ)(M,{header:e.header,hideDesc:n}),(0,C.tZ)(u.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,C.tZ)(w,{conditional:e})}),l&&(0,C.tZ)(h.ZP,{fields:l})]})}var q=n(82334);function W({sections:e,teamBuffOnly:t,hideDesc:n=!1,hideHeader:l=!1}){const{data:r}=(0,o.useContext)(i.R);if(!e.length)return null;const c=e.map(((e,a)=>e.canShow&&!r.get(e.canShow).value||t&&!e.teamBuff?null:(0,C.tZ)(D,{section:e,hideDesc:n,hideHeader:l},a))).filter((e=>e));return c.length?(0,C.tZ)(a.Z,{display:"flex",flexDirection:"column",gap:1,children:c}):null}function D({section:e,hideDesc:t=!1,hideHeader:n=!1}){return"fields"in e?(0,C.tZ)(V,{section:e,hideDesc:t,hideHeader:n}):"states"in e?(0,C.tZ)(X,{conditional:e,hideDesc:t,hideHeader:n}):(0,C.tZ)(I,{section:e})}function V({section:e,hideDesc:t,hideHeader:n}){return(0,C.BX)(s.Z,{children:[!(0,c.mY)(n,e)&&e.header&&(0,C.tZ)(M,{header:e.header,hideDesc:t,hideDivider:0===e.fields.length}),(0,C.tZ)(h.ZP,{fields:e.fields})]})}function I({section:e}){const{data:t}=(0,o.useContext)(i.R);return(0,C.tZ)("div",{children:(0,c.mY)(e.text,t)})}function M({header:e,hideDesc:t,hideDivider:n}){const{data:a}=(0,o.useContext)(i.R);let{icon:s,title:u,action:h}=e;s=(0,c.mY)(s,a);const Z=!t&&(0,c.mY)(e.description,a),p=t?u:(0,C.BX)("span",{children:[u," ",(0,C.tZ)(q.Z,{title:(0,C.tZ)(l.Z,{children:Z})})]});return(0,C.BX)(C.HY,{children:[(0,C.tZ)(d.Z,{avatar:s,title:p,action:h}),!n&&(0,C.tZ)(r.Z,{})]})}},52757:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(65992).ZP)("img")({width:"100%",height:"auto"})},97859:(e,t,n)=>{n.d(t,{Z:()=>Z});var a=n(38553),l=n(83249),r=n(94380),o=n(2784),i=n(21548),c=n(21626),s=n(41015),d=n(89343),u=n(45475),h=n(52903);function Z({level:e,ascension:t,setBoth:n,useLow:Z=!1}){const{t:p}=(0,i.$G)("ui"),m=Z?c.sU:c.SJ,g=(0,o.useCallback)(((e=1)=>{e=(0,s.uZ)(e,1,Z?c.d8:c.Qq);const t=m.findIndex((t=>e<=t));n({level:e,ascension:t})}),[n,m,Z]),f=(0,o.useCallback)((()=>{const a=m.findIndex((t=>90!==e&&e===t));n(t===a?{ascension:t+1}:{ascension:a})}),[n,m,t,e]);return(0,h.BX)(a.Z,{sx:{bgcolor:e=>e.palette.contentDark.main},children:[(0,h.tZ)(d.CC,{children:(0,h.tZ)(d.ZP,{onChange:g,value:e,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,h.tZ)(l.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(Z?c.nB:c.ek)(e),onClick:f,children:(0,h.BX)("strong",{children:["/ ",c.SJ[t]]})}),(0,h.tZ)(u.Z,{title:p("selectlevel"),sx:{flexGrow:1},children:[...Z?c.vF:c.D4].map((([a,l])=>{const o=a===e&&l===t;return(0,h.tZ)(r.Z,{selected:o,disabled:o,onClick:()=>n({level:a,ascension:l}),children:a===m[l]?`Lv. ${a}`:`Lv. ${a}/${m[l]}`},`${a}/${l}`)}))})]})}},14520:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(94380),l=n(21548),r=n(36893),o=n(45475),i=n(52903);function c({refinement:e,setRefinement:t}){const{t:n}=(0,l.$G)("ui");return(0,i.tZ)(o.Z,{title:n("refinement",{value:e}),children:r.a.map((l=>(0,i.tZ)(a.Z,{onClick:()=>t(l),selected:e===l,disabled:e===l,children:n("refinement",{value:l})},l)))})}},87051:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(31461),l=n(65992),r=n(83249),o=n(52903);const i=["children","disabled"],c=(0,l.ZP)(r.Z)((({theme:e})=>({"&.Mui-disabled":{backgroundColor:e.palette.primary.dark,color:e.palette.text.secondary}})));function s(e){let{children:t}=e,n=(0,a.Z)(e,i);return(0,o.tZ)(c,Object.assign({},n,{disabled:!0,children:t}))}},59236:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(31461),l=n(25674),r=n(67550),o=n(66198),i=n(36893),c=n(10618),s=n(65992),d=n(92794);const u=(0,s.ZP)(d.Z,{shouldForwardProp:e=>"baseColor"!==e&&"selectedColor"!==e})((({theme:e,baseColor:t="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:e.palette[t].main,color:e.palette[t].contrastText},"&:hover":{backgroundColor:e.palette[t].dark},"&.Mui-selected":{backgroundColor:e.palette[n].main,color:e.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:e.palette[n].dark},"&.Mui-disabled":{backgroundColor:e.palette[t].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:e.palette[n].dark}})));var h=n(52972),Z=n(52903);const p=["value","totals","onChange"],m=(0,c.X)([...i.N]);function g(e){let{value:t,totals:n,onChange:c}=e,s=(0,a.Z)(e,p);return(0,Z.tZ)(l.Z,Object.assign({exclusive:!0,value:t},s,{children:i.N.map((e=>(0,Z.BX)(u,{value:e,selectedColor:e,onClick:()=>c(m(t,e)),children:[(0,Z.BX)(r.Z,{sx:{fontSize:"2em",lineHeight:1},children:[h.Z[e],"  "]}),(0,Z.tZ)(o.Z,{label:n[e],size:"small"})]},e)))}))}},62978:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(31461),l=n(92794),r=n(67550),o=n(66198),i=n(36893),c=n(10618),s=n(29432),d=n(71765),u=n(52903);const h=["value","totals","onChange"],Z=(0,c.X)([...i.wC]);function p(e){let{value:t,totals:n,onChange:c}=e,p=(0,a.Z)(e,h);return(0,u.tZ)(s.Z,Object.assign({exclusive:!0,value:t},p,{children:i.wC.map((e=>(0,u.tZ)(l.Z,{value:e,onClick:()=>c(Z(t,e)),children:(0,u.BX)(r.Z,{display:"flex",children:[(0,u.tZ)("strong",{children:e}),(0,u.tZ)(d.q,{stars:1}),(0,u.tZ)(o.Z,{label:n[e],size:"small"})]})},e)))}))}},29117:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(31461),l=n(92794),r=n(66198),o=n(79536),i=n(36893),c=n(10618),s=n(26578),d=n(29432),u=n(52903);const h=["value","totals","onChange"],Z=(0,c.X)([...i.yd]);function p(e){let{value:t,totals:n,onChange:c}=e,p=(0,a.Z)(e,h);return(0,u.tZ)(d.Z,Object.assign({exclusive:!0,value:t},p,{children:i.yd.map((e=>{var a;return(0,u.BX)(l.Z,{value:e,onClick:()=>c(Z(t,e)),children:[(0,u.tZ)(s.Z,{src:null==(a=o.Z.weaponTypes)?void 0:a[e],size:2})," ",(0,u.tZ)(r.Z,{label:n[e],size:"small"})]},e)}))}))}},89431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(7671),l=n(41075),r=n(30609),o=n(56961),i=n(75213),c=n(67550),s=n(62197),d=n(2784),u=n(21548),h=n(79536),Z=n(71026),p=n(25870),m=n(25434),g=n(36893),f=n(40775),v=n(87985),b=n(67937),y=n(72055),x=n(26578),C=n(98927),w=n(71765),_=n(62978),k=n(29117),H=n(52903);function B({show:e,ascension:t=0,onHide:n,onSelect:B,filter:S=(()=>!0),weaponTypeFilter:P}){const{t:X}=(0,u.$G)(["page_weapon","weaponNames_gen"]),q=(0,m.Z)((()=>Z.Z.getAll),[]),[W,D]=(0,d.useState)(P?[P]:[...g.yd]),{database:V}=(0,d.useContext)(p.t),[I,M]=(0,d.useState)(V.displayWeapon.get());(0,d.useEffect)((()=>V.displayWeapon.follow(((e,t)=>M(t)))),[V]),(0,d.useEffect)((()=>P&&D([P])),[P]);const[T,z]=(0,d.useState)(""),O=(0,d.useDeferredValue)(T),{rarity:R}=I,$=(0,d.useMemo)((()=>q?g.fG.filter((e=>S(q(e)))).filter((e=>W.includes(q(e).weaponType))).filter((e=>!O||X(`weaponNames_gen:${e}`).toLowerCase().includes(O.toLowerCase()))).filter((e=>R.includes(q(e).rarity))).sort(((e,t)=>q(t).rarity-q(e).rarity)):[]),[O,S,R,X,W,q]),j=(0,d.useMemo)((()=>(0,f.W)(g.yd,(e=>q&&g.fG.forEach((t=>{const n=q(t).weaponType;e[n].total++,$.includes(t)&&e[n].current++}))))),[q,$]),N=(0,d.useMemo)((()=>(0,f.W)(g.wC,(e=>q&&g.fG.forEach((t=>{const n=q(t).rarity;e[n].total++,$.includes(t)&&e[n].current++}))))),[q,$]);return q?(0,H.tZ)(C.Z,{open:e,onClose:n,children:(0,H.BX)(v.Z,{children:[(0,H.tZ)(a.Z,{sx:{py:1},children:(0,H.BX)(l.ZP,{container:!0,spacing:1,children:[(0,H.tZ)(l.ZP,{item:!0,children:(0,H.tZ)(k.Z,{value:W,totals:j,onChange:D,disabled:!!P,size:"small"})}),(0,H.tZ)(l.ZP,{item:!0,children:(0,H.tZ)(_.Z,{sx:{height:"100%"},onChange:e=>V.displayWeapon.set({rarity:e}),value:R,totals:N,size:"small"})}),(0,H.tZ)(l.ZP,{item:!0,flexGrow:1,children:(0,H.tZ)(r.Z,{autoFocus:!0,size:"small",value:T,onChange:e=>z(e.target.value),label:X("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,H.tZ)(l.ZP,{item:!0,children:(0,H.tZ)(y.Z,{onClick:n})})]})}),(0,H.tZ)(o.Z,{}),(0,H.tZ)(a.Z,{children:(0,H.tZ)(l.ZP,{container:!0,spacing:1,children:$.map((e=>{var a;const r=q(e);return(0,H.tZ)(l.ZP,{item:!0,lg:3,md:4,children:(0,H.tZ)(b.Z,{sx:{height:"100%"},children:(0,H.BX)(i.Z,{onClick:()=>{n(),B(e)},sx:{display:"flex"},children:[(0,H.tZ)(c.Z,{component:"img",src:r.getImg(t),sx:{width:100,height:"auto"},className:` grad-${r.rarity}star`}),(0,H.BX)(c.Z,{sx:{flexGrow:1,px:1},children:[(0,H.tZ)(s.Z,{variant:"subtitle1",children:r.name}),(0,H.BX)(s.Z,{children:[(0,H.tZ)(x.Z,{src:null==(a=h.Z.weaponTypes)?void 0:a[r.weaponType]})," ",(0,H.tZ)(w.q,{stars:r.rarity,colored:!0})]})]})]})})},e)}))})}),(0,H.tZ)(o.Z,{}),(0,H.tZ)(a.Z,{sx:{py:1},children:(0,H.tZ)(y.Z,{large:!0,onClick:n})})]})}):null}},2679:(e,t,n)=>{n.d(t,{WC:()=>_,KX:()=>H,SJ:()=>k,r:()=>D,Zu:()=>B,xm:()=>P,L1:()=>W,q8:()=>q,qp:()=>S,s_:()=>X});var a=n(34958),l=n(30507),r=n(19807),o=n(61215),i=n(36893),c=n(41015),s=n(97797);const d=(0,s.lp)(a.qH.lvl,o.PO,r.ZP.info("crystallize_level_multi")),u=(0,s.WV)(40/9,(0,s.F9)(a.qH.total.eleMas,1400)),h=(0,s.ce)((0,s.WV)((0,s.ce)((0,s.Sm)(s.J_,u),Object.assign({pivot:!0},r.ZP.info("base_crystallize_multi"))),d),r.ZP.info("crystallize")),Z=(0,s.lp)(a.qH.lvl,o.P_,r.ZP.info("transformative_level_multi")),p=(0,s.WV)(16,(0,s.F9)(a.qH.total.eleMas,2e3)),m=Object.assign({},(0,c.O)(Object.keys(o.Ne),(e=>{const{multi:t,resist:n,canCrit:l}=o.Ne[e];return(0,s.ce)((0,s.WV)((0,s.WV)((0,s.a9)(t,r.ZP.info(`${e}_multi`)),Z),(0,s.Sm)((0,s.ce)((0,s.Sm)(s.J_,p),Object.assign({pivot:!0},r.ZP.info("base_transformative_multi"))),a.qH.total[`${e}_dmg_`]),(0,s.P5)(a.qH.hit.hitMode,{hit:s.J_,critHit:l?(0,s.Sm)(s.J_,a.qH.total[`${e}_critDMG_`]):s.J_,avgHit:l?(0,s.Sm)(s.J_,(0,s.WV)((0,s.ce)((0,s.Fp)((0,s.VV)(a.qH.total[`${e}_critRate_`],(0,s.Sm)(s.J_,s.J_)),s.zv),Object.assign({},a.qH.total[`${e}_critRate_`].info,{pivot:!0})),a.qH.total[`${e}_critDMG_`])):s.J_},NaN),a.qH.enemy[`${n}_resMulti`]),r.ZP.info(`${e}_hit`))})),{swirl:(0,c.O)(o.Ne.swirl.variants,(e=>{const t=(0,s.WV)((0,s.WV)((0,s.a9)(o.Ne.swirl.multi,r.ZP.info("swirl_multi")),Z),(0,s.Sm)((0,s.ce)((0,s.Sm)(s.J_,p),Object.assign({pivot:!0},r.ZP.info("base_transformative_multi"))),a.qH.total.swirl_dmg_)),n=a.qH.enemy[`${e}_resMulti`];return(0,s.ce)(["pyro","hydro","cryo","electro"].includes(e)?"electro"===e?(0,s.aT)((0,s.WV)((0,s.Sm)(t,a.qH.hit.addTerm),n),{hit:{ele:(0,s.a9)(e)}}):(0,s.aT)((0,s.WV)(t,n,a.qH.hit.ampMulti),{hit:{ele:(0,s.a9)(e)}}):(0,s.WV)(t,n),r.ZP.info(`${e}_swirl_hit`))}))}),g={overloaded:(0,s.ce)((0,s.Dg)(a._d,"pyro",m.overloaded),r.ZP.info("overloaded_hit")),electrocharged:(0,s.ce)((0,s.Dg)(a._d,"hydro",m.electrocharged),r.ZP.info("electrocharged_hit")),superconduct:(0,s.ce)((0,s.Dg)(a._d,"cryo",m.superconduct),r.ZP.info("superconduct_hit")),burning:(0,s.ce)((0,s.Dg)(a._d,"pyro",m.burning),r.ZP.info("burning_hit")),bloom:(0,s.ce)((0,s.Dg)(a._d,"hydro",m.bloom),r.ZP.info("bloom_hit")),burgeon:(0,s.ce)((0,s.Dg)(a._d,"pyro",m.burgeon),r.ZP.info("burgeon_hit"))},f={anemo:{electroSwirl:m.swirl.electro,pyroSwirl:m.swirl.pyro,cryoSwirl:m.swirl.cryo,hydroSwirl:m.swirl.hydro,overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,shattered:m.shattered,burning:m.burning,bloom:m.bloom,burgeon:m.burgeon,hyperbloom:m.hyperbloom},geo:Object.assign({crystallize:h},Object.fromEntries(i.gs.map((e=>[`${e}Crystallize`,(0,s.ce)((0,s.WV)((0,s.aQ)(2.5),h),r.ZP.info(`${e}_crystallize`))]))),{shattered:m.shattered,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon}),electro:{overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,shattered:m.shattered,hyperbloom:m.hyperbloom,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon},hydro:{electrocharged:m.electrocharged,shattered:m.shattered,bloom:m.bloom,overloaded:g.overloaded,superconduct:g.superconduct,burning:g.burning,burgeon:g.burgeon},pyro:{overloaded:m.overloaded,shattered:m.shattered,burning:m.burning,burgeon:m.burgeon,electrocharged:g.electrocharged,superconduct:g.superconduct,bloom:g.bloom},cryo:{superconduct:m.superconduct,shattered:m.shattered,overloaded:g.overloaded,electrocharged:g.electrocharged,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon},dendro:{shattered:m.shattered,burning:m.burning,bloom:m.bloom,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,burgeon:g.burgeon}};var v=n(69190);const b=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),y=(0,c.xh)(b,(e=>[0,...Object.values(e)])),x=(0,c.O)(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],(e=>a.qH.total[e])),C=(0,s.Qq)((0,s.P5)(a.qH.hit.move,{skill:a.qH.charEle,burst:a.qH.charEle},void 0),(0,s.P5)(a.qH.weaponType,{sword:a._d,claymore:a._d,polearm:a._d,catalyst:a.qH.charEle},void 0),"physical");function w(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function _(e,t,n={}){var r;return(0,s.aT)(a.qH.hit.dmg,(0,l.b3)([{hit:{base:e,move:(0,s.a9)(t),ele:null!=n&&null!=(r=n.hit)&&r.ele?void 0:C}},n]))}function k(e,t){const n=(0,s.WV)(e,(0,s.Sm)(s.J_,a.qH.total.shield_));return t?(0,s.aT)(n,t):n}function H(e,t){const n=a.qH.total.healInc,l=(0,s.WV)((0,s.Sm)(e,n),(0,s.Sm)(s.J_,a.qH.total.heal_,a.qH.total.incHeal_));return t?(0,s.aT)(l,t):l}function B(e,t,n,l={},r){const o=w(n);return _(r?(0,s.WV)((0,s.lp)(a.qH.total[`${o}Index`],t,{unit:"%"}),a.qH.total[e],r):(0,s.WV)((0,s.lp)(a.qH.total[`${o}Index`],t,{unit:"%"}),a.qH.total[e]),n,l)}function S(e,t,n,l){return k((0,s.Sm)((0,s.WV)(t,a.qH.total[e]),n),l)}function P(e,t,n,l){return H((0,s.Sm)((0,s.WV)(t,a.qH.total[e]),n),l)}function X(e,t,n,l,r){const o=w(l),i=a.qH.total[`${o}Index`];return k((0,s.Sm)((0,s.WV)((0,s.lp)(i,t,{unit:"%"}),a.qH.total[e]),(0,s.lp)(i,n)),r)}function q(e,t){return(0,s.ce)((0,s.WV)((0,s.aQ)("geo"===e?1.5:2.5),t),{variant:e})}function W(e,t,n,l,r){const o=w(l),i=a.qH.total[`${o}Index`];return H((0,s.Sm)((0,s.WV)((0,s.lp)(i,t,{unit:"%"}),a.qH.total[e]),(0,s.lp)(i,n)),r)}function D(e,t,n,o,i,d={}){i.basic=Object.assign({},x);const u={charKey:(0,s.a9)(e),base:{},weaponType:(0,s.a9)(o.weaponTypeKey),premod:{},display:i};let h;t&&(u.charEle=(0,s.a9)(t),u.teamBuff={tally:{[t]:(0,s.a9)(1)}},u.display.basic[`${t}_dmg_`]=a.qH.total[`${t}_dmg_`],u.display.reaction=f[t]),n&&(0,c.SR)(u,["teamBuff","tally",n],(0,s.a9)(1)),(0,c.SR)(u,["teamBuff","tally","maxEleMas"],a.qH.premod.eleMas),"catalyst"!==o.weaponTypeKey&&(u.display.basic||(u.display.basic={}),u.display.basic.physical_dmg_=a.qH.total.physical_dmg_);for(const l of[...v.r,"def"]){const e=[];o.curves[l]&&e.push((Z=o.base[l],p=o.curves[l],(0,s.WV)(Z,(0,s.lp)(a.qH.lvl,y[p]))));if(o.ascensions.some((e=>e.props[l]))&&e.push((0,s.lp)(a.qH.asc,o.ascensions.map((e=>{var t;return null!=(t=e.props[l])?t:NaN})))),!e.length)continue;const t=(0,s.ce)(1===e.length?e[0]:(0,s.Sm)(...e),Object.assign({},r.ZP.info(l),{prefix:"char",asConst:!0}));if(l.endsWith("_dmg_")&&(t.info.variant=l.slice(0,-5)),"atk"===l||"def"===l||"hp"===l)u.base[l]=t;else{if(h)throw new Error("Duplicated Char Special");h=!0,u.special=t,u.premod[l]=a.qH.special}}var Z,p;return(0,l.b3)([u,(0,l.d1)(d)])}},1296:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var a=n(31461),l=n(7671),r=n(67550),o=n(30609),i=n(56961),c=n(41075),s=n(65992),d=n(99479),u=n(43894),h=n(75213),Z=n(62197),p=n(2784),m=n(21548),g=n(87985),f=n(67937),v=n(50875),b=n(72055),y=n(98927),x=n(46026),C=n(83673),w=n(71765),_=n(59236),k=n(29117),H=n(790),B=n(13913),S=n(21626),P=n(25870),X=n(44304),q=n(10002),W=n(36617),D=n(25434),V=n(36893),I=n(45069),M=n(1661),T=n(40775),z=n(52903);const O=["className"],R=Object.keys(I.V3);function $({show:e,onHide:t,onSelect:n,filter:a=(()=>!0),newFirst:s=!1}){const{t:d}=(0,m.$G)(["page_character","charNames_gen"]),{database:u}=(0,p.useContext)(P.t),[h,Z]=(0,p.useState)((()=>u.displayCharacter.get()));(0,p.useEffect)((()=>u.displayCharacter.follow(((e,t)=>Z(t)))),[u,Z]);const f=(0,D.Z)((()=>B.Z.getAll),[]),[v,C]=(0,W.Z)();(0,p.useEffect)((()=>u.charMeta.followAny((e=>C()))),[C,u]);const[w,S]=(0,p.useState)(""),X=(0,p.useDeferredValue)(w),q=(0,p.useDeferredValue)(h),O=(0,p.useDeferredValue)(v),$=(0,p.useMemo)((()=>{var e;if(!f)return[];const{element:t,weaponType:n,sortType:l,ascending:r}=q,o=[...s?["new"]:[],...null!=(e=I.V3[l])?e:[]];return O&&V.IV.filter((e=>a(u.chars.get(e),f[e]))).filter((0,M.C)({element:t,weaponType:n,name:X},(0,I.zU)(u,f))).sort((0,M.e)(o,r,(0,I._L)(u,f),["new","favorite"]))}),[u,s,q,f,O,X,a]),j=(0,p.useMemo)((()=>(0,T.W)(V.yd,(e=>f&&V.IV.forEach((t=>{const n=f(t,u.gender).weaponTypeKey;e[n].total++,$.includes(t)&&e[n].current++}))))),[f,$,u]),G=(0,p.useMemo)((()=>(0,T.W)(V.N,(e=>f&&V.IV.forEach((t=>{const n=f(t,u.gender).elementKey;e[n].total++,$.includes(t)&&e[n].current++}))))),[f,$,u]);if(!f)return null;const{weaponType:K,element:E,sortType:L,ascending:J}=h;return(0,z.tZ)(y.Z,{open:e,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,z.BX)(g.Z,{children:[(0,z.BX)(l.Z,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,z.tZ)(k.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({weaponType:e}),value:K,totals:j,size:"small"}),(0,z.tZ)(_.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({element:e}),value:E,totals:G,size:"small"}),(0,z.tZ)(r.Z,{flexGrow:1,children:(0,z.tZ)(o.Z,{autoFocus:!0,value:w,onChange:e=>S(e.target.value),label:d("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,z.tZ)(x.Z,{sx:{height:"100%"},sortKeys:R,value:L,onChange:e=>u.displayCharacter.set({sortType:e}),ascending:J,onChangeAsc:e=>u.displayCharacter.set({ascending:e})}),(0,z.tZ)(b.Z,{onClick:t})]}),(0,z.tZ)(i.Z,{}),(0,z.tZ)(H.R.Provider,{value:{teamData:void 0},children:(0,z.tZ)(l.Z,{children:(0,z.tZ)(c.ZP,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:$.map((e=>(0,z.tZ)(c.ZP,{item:!0,xs:1,children:(0,z.tZ)(N,{characterKey:e,onClick:()=>{t(),null==n||n(e)}})},e)))})})})]})})}const j=(0,s.ZP)((e=>{let{className:t}=e,n=(0,a.Z)(e,O);return(0,z.tZ)(d.Z,Object.assign({},n,{classes:{popper:t}}))}))({[`& .${u.Z.tooltip}`]:{padding:0}});function N({characterKey:e,onClick:t}){var n;const{gender:a}=(0,q.Z)(),l=(0,D.Z)((()=>B.Z.get(e,a)),[e,a]),o=(0,X.Z)(e),{level:i=1,ascension:c=0,constellation:s=0}=null!=o?o:{};return(0,z.tZ)(j,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",title:(0,z.tZ)(r.Z,{sx:{width:300},children:(0,z.tZ)(v.Z,{hideStats:!0,characterKey:e})}),children:(0,z.tZ)(r.Z,{children:(0,z.tZ)(f.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:(0,z.tZ)(h.Z,{onClick:t,children:(0,z.BX)(r.Z,{display:"flex",position:"relative",className:`grad-${null==l?void 0:l.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${null==l?void 0:l.bannerImg})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,z.tZ)(r.Z,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,z.tZ)(r.Z,{component:"img",src:null==l?void 0:l.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,z.BX)(r.Z,{flexGrow:1,sx:{pr:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[(0,z.tZ)(Z.Z,{variant:"body2",children:(0,z.tZ)(C.Z,{color:null==l?void 0:l.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:null==l?void 0:l.name})}),o?(0,z.BX)(r.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,z.BX)(r.Z,{sx:{textShadow:"0 0 5px gray"},children:[(0,z.BX)(Z.Z,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",i]}),(0,z.BX)(Z.Z,{variant:"body2",component:"span",color:"text.secondary",children:["/",S.SJ[c]]})]}),(0,z.BX)(Z.Z,{variant:"body2",children:["C",s]})]}):(0,z.tZ)(Z.Z,{component:"span",variant:"body2",children:(0,z.tZ)(C.Z,{children:"NEW"})}),(0,z.tZ)(Z.Z,{variant:"body2",children:(0,z.tZ)(w.q,{stars:null!=(n=null==l?void 0:l.rarity)?n:1,colored:!0})})]})]})})})})})}},3694:(e,t,n)=>{n.d(t,{Z:()=>M});var a=n(9725),l=n(67732),r=n(54278),o=n(40535),i=n(75213),c=n(67550),s=n(79906),d=n(85801),u=n(62197),h=n(7671),Z=n(38553),p=n(99479),m=n(83249),g=n(2784),f=n(21548),v=n(79536),b=n(67937),y=n(43007),x=n(37923),C=n(57889),w=n(26578),_=n(71765),k=n(21626),H=n(71026),B=n(25870),S=n(34958),P=n(30507),X=n(61278),q=n(25434),W=n(94758),D=n(52903);let V,I=e=>e;function M({weaponId:e,onClick:t,onEdit:n,onDelete:M,canEquip:T=!1,extraButtons:z}){var O;const{t:R}=(0,f.$G)(["page_weapon","ui"]),{database:$}=(0,g.useContext)(B.t),j=(0,W.Z)(e),N=(0,q.Z)((()=>null!=j&&j.key?H.Z.get(j.key):void 0),[null==j?void 0:j.key]),G=(0,g.useCallback)((e=>e.weaponTypeKey===(null==N?void 0:N.weaponType)),[N]),K=(0,g.useCallback)((n=>(0,D.tZ)(i.Z,{onClick:()=>null==t?void 0:t(e),children:n})),[t,e]),E=(0,g.useCallback)((e=>(0,D.tZ)(c.Z,{children:e})),[]),L=(0,g.useCallback)((t=>e&&$.weapons.set(e,{location:t})),[$,e]),J=(0,g.useMemo)((()=>N&&j&&(0,P.mP)([N.data,(0,P.v0)(j)])),[N,j]);if(!j||!N||!J)return null;const{level:A,ascension:F,refinement:U,id:Y,location:Q="",lock:ee}=j,te=J.get(S.ri.weapon.type).value,ne=[S.ri.weapon.main,S.ri.weapon.sub,S.ri.weapon.sub2].map((e=>J.get(e))),ae=N.getImg(F);return(0,D.tZ)(g.Suspense,{fallback:(0,D.tZ)(s.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,D.BX)(b.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,D.BX)(C.Z,{condition:!!t,wrapper:K,falseWrapper:E,children:[(0,D.BX)(c.Z,{className:`grad-${N.rarity}star`,sx:{position:"relative",pt:2,px:2},children:[!t&&(0,D.tZ)(d.Z,{color:"primary",onClick:()=>$.weapons.set(Y,{lock:!ee}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:ee?(0,D.tZ)(r.Z,{}):(0,D.tZ)(o.Z,{})}),(0,D.BX)(c.Z,{sx:{position:"relative",zIndex:1},children:[(0,D.BX)(c.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,D.tZ)(w.Z,{sx:{fontSize:"1.5em"},src:null==(O=v.Z.weaponTypes)?void 0:O[te]}),(0,D.tZ)(u.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,D.tZ)("strong",{children:N.name})})]}),(0,D.BX)(u.Z,{component:"span",variant:"h5",children:["Lv. ",A]}),(0,D.BX)(u.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",k.SJ[F]]}),(0,D.BX)(u.Z,{variant:"h6",children:["Refinement ",(0,D.tZ)("strong",{children:U})]}),(0,D.tZ)(u.Z,{children:(0,D.tZ)(_.q,{stars:N.rarity,colored:!0})})]}),(0,D.tZ)(c.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,D.tZ)(c.Z,{component:"img",src:null!=ae?ae:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,D.tZ)(h.Z,{children:ne.map((e=>e.info.name?(0,D.BX)(c.Z,{sx:{display:"flex"},children:[(0,D.BX)(u.Z,{flexGrow:1,children:[e.info.icon," ",e.info.name]}),(0,D.tZ)(u.Z,{children:(0,X.p)(e)})]},JSON.stringify(e.info)):null))})]}),(0,D.BX)(c.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,D.tZ)(c.Z,{sx:{flexGrow:1},children:T?(0,D.tZ)(y.W,{location:Q,setLocation:L,filter:G,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}}):(0,D.tZ)(x.Z,{location:Q})}),(0,D.BX)(Z.Z,{sx:{height:"100%"},children:[!!n&&(0,D.tZ)(p.Z,{title:(0,D.tZ)(u.Z,{children:R(V||(V=I`page_weapon:edit`))}),placement:"top",arrow:!0,children:(0,D.tZ)(m.Z,{color:"info",onClick:()=>n(Y),children:(0,D.tZ)(l.G,{icon:a.Xcf,className:"fa-fw"})})}),!!M&&(0,D.tZ)(m.Z,{color:"error",onClick:()=>M(Y),disabled:!!Q||ee,children:(0,D.tZ)(l.G,{icon:a.I7k,className:"fa-fw"})}),z]})]})]})})}},15878:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var a=n(54278),l=n(40535),r=n(7671),o=n(41075),i=n(67550),c=n(62197),s=n(38553),d=n(83249),u=n(42523),h=n(56961),Z=n(15873),p=n(2784),m=n(87985),g=n(67937),f=n(43007),v=n(72055),b=n(73740),y=n(64919),x=n(97859),C=n(98927),w=n(14520),_=n(71765),k=n(790),H=n(13913),B=n(21626),S=n(71026),P=n(25870),X=n(34958),q=n(30507),W=n(94657),D=n(10002),V=n(25434),I=n(94758),M=n(52903);const T=p.lazy((()=>n.e(592).then(n.bind(n,89431))));function z({weaponId:e,footer:t=!1,onClose:n,extraButtons:z}){var O;const{data:R}=(0,p.useContext)(k.R),{database:$}=(0,p.useContext)(P.t),j=(0,I.Z)(e),{key:N="",level:G=0,refinement:K=1,ascension:E=0,lock:L,location:J="",id:A}=null!=j?j:{},F=(0,V.Z)((()=>S.Z.get(N)),[N]),U=(0,p.useCallback)((t=>{$.weapons.set(e,t)}),[e,$]),{gender:Y}=(0,D.Z)(),Q=(0,V.Z)((()=>J?H.Z.get($.chars.LocationToCharacterKey(J),Y):void 0),[$,Y,J]),ee=Q&&Q.weaponTypeKey,te=(0,p.useCallback)((e=>A&&$.weapons.set(A,{location:e})),[$,A]),ne=(0,p.useCallback)((e=>e.weaponTypeKey===(null==F?void 0:F.weaponType)),[F]),[ae,le,re]=(0,W.Z)(),oe=null==F?void 0:F.getImg(E);(0,p.useEffect)((()=>{if(F&&U&&F.key===(null==j?void 0:j.key)&&F.rarity<=2&&(G>70||E>4)){const[e,t]=B.vF[0];U({level:e,ascension:t})}}),[F,j,U,G,E]);const ie=(0,p.useMemo)((()=>F&&j&&(0,q.mP)([F.data,(0,q.v0)(j)])),[F,j]);return(0,M.tZ)(C.Z,{open:!!e,onClose:n,containerProps:{maxWidth:"md"},children:(0,M.BX)(g.Z,{children:[(0,M.tZ)(T,{ascension:E,show:ae,onHide:re,onSelect:e=>U({key:e}),weaponTypeFilter:ee}),(0,M.tZ)(r.Z,{children:F&&ie&&(0,M.BX)(o.ZP,{container:!0,spacing:1.5,children:[(0,M.tZ)(o.ZP,{item:!0,xs:12,sm:3,children:(0,M.BX)(o.ZP,{container:!0,spacing:1.5,children:[(0,M.tZ)(o.ZP,{item:!0,xs:6,sm:12,children:(0,M.tZ)(i.Z,{component:"img",src:oe,className:`grad-${F.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,M.tZ)(o.ZP,{item:!0,xs:6,sm:12,children:(0,M.tZ)(c.Z,{children:(0,M.tZ)("small",{children:F.description})})})]})}),(0,M.BX)(o.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,M.tZ)(i.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,M.BX)(s.Z,{children:[(0,M.tZ)(d.Z,{color:"info",onClick:le,children:null!=(O=null==F?void 0:F.name)?O:"Select a Weapon"}),(null==F?void 0:F.hasRefinement)&&(0,M.tZ)(w.Z,{refinement:K,setRefinement:e=>U({refinement:e})}),z]})}),(0,M.BX)(i.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[F&&(0,M.tZ)(x.Z,{level:G,ascension:E,setBoth:U,useLow:!F.hasRefinement}),(0,M.tZ)(d.Z,{color:"error",onClick:()=>A&&$.weapons.set(A,{lock:!L}),startIcon:L?(0,M.tZ)(a.Z,{}):(0,M.tZ)(l.Z,{}),children:L?"Locked":"Unlocked"})]}),(0,M.tZ)(c.Z,{children:(0,M.tZ)(_.q,{stars:F.rarity})}),(0,M.tZ)(c.Z,{variant:"subtitle1",children:(0,M.tZ)("strong",{children:F.passiveName})}),(0,M.tZ)(c.Z,{gutterBottom:!0,children:F.passiveName&&F.passiveDescription(ie.get(X.ri.weapon.refineIndex).value)}),(0,M.BX)(i.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,M.BX)(m.Z,{children:[(0,M.tZ)(u.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,M.tZ)(h.Z,{}),(0,M.tZ)(y.lD,{children:[X.ri.weapon.main,X.ri.weapon.sub,X.ri.weapon.sub2].map((e=>{const t=ie.get(e);return t.isEmpty||!t.value?null:(0,M.tZ)(y.JW,{node:t,component:Z.ZP},JSON.stringify(t.info))}))})]}),R&&F.document&&(0,M.tZ)(b.Z,{sections:F.document})]})]})]})}),t&&A&&(0,M.tZ)(r.Z,{sx:{py:1},children:(0,M.BX)(o.ZP,{container:!0,spacing:1,children:[(0,M.tZ)(o.ZP,{item:!0,flexGrow:1,children:(0,M.tZ)(f.W,{location:J,setLocation:te,filter:ne,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}})}),(0,M.tZ)(o.ZP,{item:!0,flexGrow:2}),!!n&&(0,M.tZ)(o.ZP,{item:!0,children:(0,M.tZ)(v.Z,{sx:{height:"100%"},large:!0,onClick:n})})]})})]})})}}}]);