"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{5658:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},27216:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},73673:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},68164:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},30460:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"InsertLink")},61494:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)([(0,l.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,l.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"PersonSearch")},70034:(e,t,n)=>{n.d(t,{Z:()=>i});n(2784);var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube")},79490:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(9725),l=n(67732),i=n(40535),r=n(54278),o=n(41075),c=n(92794),s=n(67550),d=n(21548),u=n(36893),h=n(10618),Z=n(29432),p=n(71765),m=n(38860),g=n(32912),f=n(66615),v=n(61494),y=n(79906),b=n(2784),x=n(13913),C=n(51650),w=n(10002),k=n(25434),_=n(56748),H=n(43966),S=n(52903);let P,B,X,q,W=e=>e;function D({location:e,setLocation:t}){const{t:n}=(0,d.$G)(["ui","artifact","charNames_gen"]),{database:a}=(0,b.useContext)(C.t),{gender:l}=(0,w.Z)(),i=(0,k.Z)((()=>x.Z.getAll),[]),r=(0,b.useCallback)((e=>n(`charNames_gen:${(0,u.LP)(a.chars.LocationToCharacterKey(e),l)}`)),[a,l,n]),o=(0,b.useCallback)((e=>{var t;switch(e){case"":return(0,S.tZ)(S.HY,{});case"Inventory":return(0,S.tZ)(f.Z,{});case"Equipped":return(0,S.tZ)(v.Z,{});default:return i?(0,S.tZ)(_.Z,{src:null==(t=i(a.chars.LocationToCharacterKey(e),l))?void 0:t.thumbImgSide,sx:{pr:1}}):(0,S.tZ)(S.HY,{})}}),[a,l,i]),c=(0,b.useCallback)((e=>"Traveler"===e?u._0.some((e=>a.charMeta.get(e).favorite)):!!e&&a.charMeta.get(e).favorite),[a]),s=(0,b.useMemo)((()=>[{key:"",label:n(P||(P=W`artifact:filterLocation.any`))},{key:"Equipped",label:n(B||(B=W`artifact:filterLocation.currentlyEquipped`))},{key:"Inventory",label:n(X||(X=W`artifact:filterLocation.inventory`))},...u.xB.filter((e=>a.chars.get(a.chars.LocationToCharacterKey(e)))).map((e=>({key:e,label:r(e),favorite:c(e)}))).sort(((e,t)=>e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:e.label.localeCompare(t.label)))]),[n,r,c,a]);return(0,S.tZ)(b.Suspense,{fallback:(0,S.tZ)(y.Z,{variant:"text",width:100}),children:(0,S.tZ)(H.Z,{size:"small",options:s,valueKey:e,onChange:t,toImg:o,clearKey:"",label:n(q||(q=W`artifact:filterLocation.location`))})})}var L=n(92096),z=n(73256),T=n(41015),V=n(89343);function I({levelLow:e,levelHigh:t,setLow:n,setHigh:a,setBoth:l,dark:i=!1,disabled:r=!1}){const[o,c]=(0,b.useState)(e),[s,d]=(0,b.useState)(t),u=(0,b.useCallback)(((e,t)=>{if("number"==typeof t)throw new TypeError;const[n,a]=t;c(n),d(a)}),[c,d]);return(0,b.useEffect)((()=>c(e)),[c,e]),(0,b.useEffect)((()=>d(t)),[d,t]),(0,S.BX)(L.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:i?"contentDark.main":"contentLight.main"},children:[(0,S.tZ)(V.ZP,{value:o,onChange:e=>n((0,T.uZ)(e,0,t)),sx:{px:1,pl:2,width:100},inputProps:{sx:{textAlign:"right"}},startAdornment:"RV: ",disabled:r}),(0,S.tZ)(z.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:()=>"Arifact RV Range",value:[o,s],onChange:u,onChangeCommitted:(e,t)=>l(t[0],t[1]),valueLabelDisplay:"auto",min:0,max:900,disabled:r}),(0,S.tZ)(V.ZP,{value:s,onChange:t=>a((0,T.uZ)(t,e,900)),sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}},disabled:r})]})}var R=n(9510);const $=["excluded","included"],M=["locked","unlocked"],O=(0,h.X)([...u.En]),K=(0,h.X)([...u.eV]),j=(0,h.X)([...$]),N=(0,h.X)([...M]),G=(0,h.X)([1,2,3,4]);function E({filterOption:e,filterOptionDispatch:t,disableSlotFilter:n=!1}){const{t:h}=(0,d.$G)(["artifact","ui"]),{artSetKeys:f=[],mainStatKeys:v=[],rarity:y=[],slotKeys:b=[],levelLow:x=0,levelHigh:C=20,substats:w=[],location:k="",exclusion:_=[...$],locked:H=[...M],rvLow:P=0,rvHigh:B=900,lines:X=[]}=e;return(0,S.BX)(o.ZP,{container:!0,spacing:1,children:[(0,S.BX)(o.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,S.tZ)(Z.Z,{fullWidth:!0,value:y,size:"small",children:u.En.map((e=>(0,S.tZ)(c.Z,{value:e,onClick:()=>t({rarity:O(y,e)}),children:(0,S.tZ)(p.q,{stars:e})},e)))}),(0,S.tZ)(Z.Z,{fullWidth:!0,value:b,size:"small",disabled:n,children:u.eV.map((e=>(0,S.tZ)(c.Z,{value:e,onClick:()=>t({slotKeys:K(b,e)}),children:(0,R.Ir)(e)},e)))}),(0,S.BX)(s.Z,{display:"flex",gap:1,children:[(0,S.tZ)(Z.Z,{fullWidth:!0,value:_,size:"small",children:$.map(((e,n)=>(0,S.BX)(c.Z,{value:e,sx:{display:"flex",gap:1},onClick:()=>t({exclusion:j(_,e)}),children:[(0,S.tZ)(l.G,{icon:n?a.Stf:a.gPx}),(0,S.tZ)(d.cC,{i18nKey:`exclusion.${e}`,t:h})]},e)))}),(0,S.tZ)(Z.Z,{fullWidth:!0,value:H,size:"small",children:M.map(((e,n)=>(0,S.BX)(c.Z,{value:e,sx:{display:"flex",gap:1},onClick:()=>t({locked:N(H,e)}),children:[n?(0,S.tZ)(i.Z,{}):(0,S.tZ)(r.Z,{}),(0,S.tZ)(d.cC,{i18nKey:`ui:${e}`,t:h})]},e)))})]}),(0,S.tZ)(Z.Z,{fullWidth:!0,value:X,size:"small",children:[1,2,3,4].map((e=>(0,S.tZ)(c.Z,{value:e,onClick:()=>t({lines:G(X,e)}),children:h("substat",{count:e})},e)))}),(0,S.tZ)(g.Z,{showLevelText:!0,levelLow:x,levelHigh:C,setLow:e=>t({levelLow:e}),setHigh:e=>t({levelHigh:e}),setBoth:(e,n)=>t({levelLow:e,levelHigh:n})}),(0,S.tZ)(I,{showLevelText:!0,levelLow:P,levelHigh:B,setLow:e=>t({rvLow:e}),setHigh:e=>t({rvHigh:e}),setBoth:(e,n)=>t({rvLow:e,rvHigh:n})})]}),(0,S.BX)(o.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,S.tZ)(m.N5,{artSetKeys:f,setArtSetKeys:e=>t({artSetKeys:e})}),(0,S.tZ)(m.mY,{mainStatKeys:v,setMainStatKeys:e=>t({mainStatKeys:e})}),(0,S.tZ)(m.mW,{substatKeys:w,setSubstatKeys:e=>t({substats:e})}),(0,S.tZ)(D,{location:k,setLocation:e=>t({location:e})})]})]})}},86113:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(67550),l=n(62197),i=n(52903);function r({avatar:e,title:t,action:n}){return(0,i.BX)(a.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[e,(0,i.tZ)(l.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),n&&(0,i.tZ)(l.Z,{variant:"caption",children:n})]})}},73740:(e,t,n)=>{n.d(t,{X:()=>T,Z:()=>W});var a=n(67550),l=n(62197),i=n(56961),r=n(2784),o=n(790),c=n(41015),s=n(87985),d=n(86113),u=n(7671),h=n(64919),Z=n(5658),p=n(27216),m=n(83249),g=n(94380),f=n(38553),v=n(53710),y=n(45475),b=n(83673),x=n(21845),C=n(52903);function w({conditional:e,disabled:t=!1}){return 1===Object.keys(e.states).length&&"path"in e?(0,C.tZ)(k,{conditional:e,disabled:t}):"path"in e?(0,C.tZ)(_,{conditional:e,disabled:t}):(0,C.tZ)(H,{conditional:e,disabled:t})}function k({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,r.useContext)(v.K),{data:l}=(0,r.useContext)(o.R),i=(0,r.useCallback)((t=>{const l=(0,c.I8)(n.conditional);t?(0,c.SR)(l,e.path,t):(0,c.uH)(l,e.path),a({conditional:l})}),[e,n,a]),s=l.get(e.value).value,[d,u]=Object.entries(e.states)[0],h=P(u.name),g=B(e.name);return(0,C.BX)(m.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:s?"success":"primary",onClick:()=>i(s?void 0:d),disabled:t,startIcon:s?(0,C.tZ)(Z.Z,{}):(0,C.tZ)(p.Z,{}),children:[g," ",h]})}function _({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,r.useContext)(v.K),{data:l}=(0,r.useContext)(o.R),s=(0,r.useCallback)((t=>{const l=(0,c.I8)(n.conditional);t?(0,c.SR)(l,e.path,t):(0,c.uH)(l,e.path),a({conditional:l})}),[e,n,a]),d=l.get(e.value).value,u=d?e.states[d]:void 0,h=u?P(u.name):(0,C.tZ)(b.Z,{color:"secondary",children:"Not Active"}),Z=B(e.name);return(0,C.BX)(y.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:d?"success":"primary",title:(0,C.BX)("span",{children:[Z," ",h]}),disabled:t,children:[(0,C.tZ)(g.Z,{onClick:()=>s(),selected:!u,disabled:!u,children:(0,C.tZ)("span",{children:"Not Active"})}),(0,C.tZ)(i.Z,{}),Object.entries(e.states).map((([e,t])=>(0,C.tZ)(g.Z,{onClick:()=>s(e),selected:d===e,disabled:d===e,children:t.name},e)))]})}function H({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,r.useContext)(v.K),{data:l}=(0,r.useContext)(o.R),i=(0,r.useCallback)(((e,t)=>{const l=(0,c.I8)(n.conditional);t?(0,c.SR)(l,e,t):(0,c.uH)(l,e),a({conditional:l})}),[n,a]);return(0,C.tZ)(f.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(e.states).map((([e,n])=>{const a=l.get(n.value).value,r=a===e;return(0,C.tZ)(m.Z,{color:r?"success":"primary",disabled:t,fullWidth:!0,onClick:()=>i(n.path,a?void 0:e),size:"small",startIcon:r?(0,C.tZ)(Z.Z,{}):(0,C.tZ)(p.Z,{}),sx:{borderRadius:0},children:B(n.name)},e)}))})}function S(e){return"string"!=typeof e}function P(e){if(!e)return"";let t="primary",n=e;return e&&S(e)&&e.props.color&&(t=e.props.color,n=(0,C.tZ)("span",{children:e.props.children})),(0,C.tZ)(b.Z,{sx:{ml:.5},color:t,children:n})}function B(e){if(S(e)){const t=e.props.key18,n=e.props.ns,a=e.props.values;return(0,C.tZ)(x.v,{ns:n,key18:t,values:a,useBadge:!0})}return e}function X({conditional:e,hideHeader:t=!1,hideDesc:n=!1}){const{data:a}=(0,r.useContext)(o.R);let l;if("path"in e){var i;const t=a.get(e.value).value;l=t&&(null==(i=e.states[t])?void 0:i.fields)}else l=Object.values(e.states).flatMap((e=>a.get(e.value).value?e.fields:[]));return(0,C.BX)(s.Z,{children:[!(0,c.mY)(t,e)&&(0,C.tZ)(T,{header:e.header,hideDesc:n}),(0,C.tZ)(u.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,C.tZ)(w,{conditional:e})}),l&&(0,C.tZ)(h.ZP,{fields:l})]})}var q=n(82334);function W({sections:e,teamBuffOnly:t,hideDesc:n=!1,hideHeader:l=!1}){const{data:i}=(0,r.useContext)(o.R);if(!e.length)return null;const c=e.map(((e,a)=>e.canShow&&!i.get(e.canShow).value||t&&!e.teamBuff?null:(0,C.tZ)(D,{section:e,hideDesc:n,hideHeader:l},a))).filter((e=>e));return c.length?(0,C.tZ)(a.Z,{display:"flex",flexDirection:"column",gap:1,children:c}):null}function D({section:e,hideDesc:t=!1,hideHeader:n=!1}){return"fields"in e?(0,C.tZ)(L,{section:e,hideDesc:t,hideHeader:n}):"states"in e?(0,C.tZ)(X,{conditional:e,hideDesc:t,hideHeader:n}):(0,C.tZ)(z,{section:e})}function L({section:e,hideDesc:t,hideHeader:n}){return(0,C.BX)(s.Z,{children:[!(0,c.mY)(n,e)&&e.header&&(0,C.tZ)(T,{header:e.header,hideDesc:t,hideDivider:0===e.fields.length}),(0,C.tZ)(h.ZP,{fields:e.fields})]})}function z({section:e}){const{data:t}=(0,r.useContext)(o.R);return(0,C.tZ)("div",{children:(0,c.mY)(e.text,t)})}function T({header:e,hideDesc:t,hideDivider:n}){const{data:a}=(0,r.useContext)(o.R);let{icon:s,title:u,action:h}=e;s=(0,c.mY)(s,a);const Z=!t&&(0,c.mY)(e.description,a),p=t?u:(0,C.BX)("span",{children:[u," ",(0,C.tZ)(q.Z,{title:(0,C.tZ)(l.Z,{children:Z})})]});return(0,C.BX)(C.HY,{children:[(0,C.tZ)(d.Z,{avatar:s,title:p,action:h}),!n&&(0,C.tZ)(i.Z,{})]})}},52757:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(65992).ZP)("img")({width:"100%",height:"auto"})},97859:(e,t,n)=>{n.d(t,{Z:()=>Z});var a=n(38553),l=n(83249),i=n(94380),r=n(2784),o=n(21548),c=n(21626),s=n(41015),d=n(89343),u=n(45475),h=n(52903);function Z({level:e,ascension:t,setBoth:n,useLow:Z=!1}){const{t:p}=(0,o.$G)("ui"),m=Z?c.sU:c.SJ,g=(0,r.useCallback)(((e=1)=>{e=(0,s.uZ)(e,1,Z?c.d8:c.Qq);const t=m.findIndex((t=>e<=t));n({level:e,ascension:t})}),[n,m,Z]),f=(0,r.useCallback)((()=>{const a=m.findIndex((t=>90!==e&&e===t));n(t===a?{ascension:t+1}:{ascension:a})}),[n,m,t,e]);return(0,h.BX)(a.Z,{sx:{bgcolor:e=>e.palette.contentDark.main},children:[(0,h.tZ)(d.CC,{children:(0,h.tZ)(d.ZP,{onChange:g,value:e,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,h.tZ)(l.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(Z?c.nB:c.ek)(e),onClick:f,children:(0,h.BX)("strong",{children:["/ ",c.SJ[t]]})}),(0,h.tZ)(u.Z,{title:p("selectlevel"),sx:{flexGrow:1},children:[...Z?c.vF:c.D4].map((([a,l])=>{const r=a===e&&l===t;return(0,h.tZ)(i.Z,{selected:r,disabled:r,onClick:()=>n({level:a,ascension:l}),children:a===m[l]?`Lv. ${a}`:`Lv. ${a}/${m[l]}`},`${a}/${l}`)}))})]})}},14520:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(94380),l=n(21548),i=n(36893),r=n(45475),o=n(52903);function c({refinement:e,setRefinement:t}){const{t:n}=(0,l.$G)("ui");return(0,o.tZ)(r.Z,{title:n("refinement",{value:e}),children:i.a.map((l=>(0,o.tZ)(a.Z,{onClick:()=>t(l),selected:e===l,disabled:e===l,children:n("refinement",{value:l})},l)))})}},87051:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(31461),l=n(65992),i=n(83249),r=n(52903);const o=["children","disabled"],c=(0,l.ZP)(i.Z)((({theme:e})=>({"&.Mui-disabled":{backgroundColor:e.palette.primary.dark,color:e.palette.text.secondary}})));function s(e){let{children:t}=e,n=(0,a.Z)(e,o);return(0,r.tZ)(c,Object.assign({},n,{disabled:!0,children:t}))}},59236:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(31461),l=n(25674),i=n(67550),r=n(36893),o=n(10618),c=n(65992),s=n(92794);const d=(0,c.ZP)(s.Z,{shouldForwardProp:e=>"baseColor"!==e&&"selectedColor"!==e})((({theme:e,baseColor:t="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:e.palette[t].main,color:e.palette[t].contrastText},"&:hover":{backgroundColor:e.palette[t].dark},"&.Mui-selected":{backgroundColor:e.palette[n].main,color:e.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:e.palette[n].dark},"&.Mui-disabled":{backgroundColor:e.palette[t].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:e.palette[n].dark}})));var u=n(52972),h=n(52903);const Z=["value","onChange"],p=(0,o.X)([...r.N]);function m(e){let{value:t,onChange:n}=e,o=(0,a.Z)(e,Z);return(0,h.tZ)(l.Z,Object.assign({exclusive:!0,value:t},o,{children:r.N.map((e=>(0,h.tZ)(d,{value:e,selectedColor:e,onClick:()=>n(p(t,e)),children:(0,h.tZ)(i.Z,{sx:{fontSize:"2em",lineHeight:1},children:u.Z[e]})},e)))}))}},29117:(e,t,n)=>{n.d(t,{Z:()=>Z});var a=n(31461),l=n(92794),i=n(79536),r=n(36893),o=n(10618),c=n(26578),s=n(29432),d=n(52903);const u=["value","onChange"],h=(0,o.X)([...r.yd]);function Z(e){let{value:t,onChange:n}=e,o=(0,a.Z)(e,u);return(0,d.tZ)(s.Z,Object.assign({exclusive:!0,value:t},o,{children:r.yd.map((e=>{var a;return(0,d.tZ)(l.Z,{value:e,onClick:()=>n(h(t,e)),children:(0,d.tZ)(c.Z,{src:null==(a=i.Z.weaponTypes)?void 0:a[e],size:2})},e)}))}))}},89431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(7671),l=n(41075),i=n(92794),r=n(67550),o=n(30609),c=n(56961),s=n(75213),d=n(62197),u=n(2784),h=n(21548),Z=n(79536),p=n(71026),m=n(51650),g=n(25434),f=n(36893),v=n(10618),y=n(87985),b=n(67937),x=n(72055),C=n(26578),w=n(98927),k=n(29432),_=n(71765),H=n(29117),S=n(52903);const P=(0,v.X)([...f.wC]);function B({show:e,ascension:t=0,onHide:n,onSelect:v,filter:B=(()=>!0),weaponTypeFilter:X}){const{t:q}=(0,h.$G)(["page_weapon","weaponNames_gen"]),W=(0,g.Z)((()=>p.Z.getAll),[]),[D,L]=(0,u.useState)(X?[X]:[...f.yd]),{database:z}=(0,u.useContext)(m.t),[T,V]=(0,u.useState)(z.displayWeapon.get());(0,u.useEffect)((()=>z.displayWeapon.follow(((e,t)=>V(t)))),[z]),(0,u.useEffect)((()=>X&&L([X])),[X]);const[I,R]=(0,u.useState)(""),$=(0,u.useDeferredValue)(I),{rarity:M}=T,O=W?f.fG.filter((e=>B(W(e)))).filter((e=>D.includes(W(e).weaponType))).filter((e=>!$||q(`weaponNames_gen:${e}`).toLowerCase().includes($.toLowerCase()))).filter((e=>M.includes(W(e).rarity))).sort(((e,t)=>W(t).rarity-W(e).rarity)):[];return W?(0,S.tZ)(w.Z,{open:e,onClose:n,children:(0,S.BX)(y.Z,{children:[(0,S.tZ)(a.Z,{sx:{py:1},children:(0,S.BX)(l.ZP,{container:!0,spacing:1,children:[(0,S.tZ)(l.ZP,{item:!0,children:(0,S.tZ)(H.Z,{value:D,onChange:L,disabled:!!X,size:"small"})}),(0,S.tZ)(l.ZP,{item:!0,children:(0,S.tZ)(k.Z,{sx:{height:"100%"},value:M,size:"small",children:f.wC.map((e=>(0,S.tZ)(i.Z,{value:e,onClick:()=>z.displayWeapon.set({rarity:P(M,e)}),children:(0,S.BX)(r.Z,{display:"flex",gap:1,children:[(0,S.tZ)("strong",{children:e}),(0,S.tZ)(_.q,{stars:1})]})},e)))})}),(0,S.tZ)(l.ZP,{item:!0,flexGrow:1,children:(0,S.tZ)(o.Z,{autoFocus:!0,size:"small",value:I,onChange:e=>R(e.target.value),label:q("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,S.tZ)(l.ZP,{item:!0,children:(0,S.tZ)(x.Z,{onClick:n})})]})}),(0,S.tZ)(c.Z,{}),(0,S.tZ)(a.Z,{children:(0,S.tZ)(l.ZP,{container:!0,spacing:1,children:O.map((e=>{var a;const i=W(e);return(0,S.tZ)(l.ZP,{item:!0,lg:3,md:4,children:(0,S.tZ)(b.Z,{sx:{height:"100%"},children:(0,S.BX)(s.Z,{onClick:()=>{n(),v(e)},sx:{display:"flex"},children:[(0,S.tZ)(r.Z,{component:"img",src:i.getImg(t),sx:{width:100,height:"auto"},className:` grad-${i.rarity}star`}),(0,S.BX)(r.Z,{sx:{flexGrow:1,px:1},children:[(0,S.tZ)(d.Z,{variant:"subtitle1",children:i.name}),(0,S.BX)(d.Z,{children:[(0,S.tZ)(C.Z,{src:null==(a=Z.Z.weaponTypes)?void 0:a[i.weaponType]})," ",(0,S.tZ)(_.q,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,S.tZ)(c.Z,{}),(0,S.tZ)(a.Z,{sx:{py:1},children:(0,S.tZ)(x.Z,{large:!0,onClick:n})})]})}):null}},2679:(e,t,n)=>{n.d(t,{WC:()=>k,KX:()=>H,SJ:()=>_,r:()=>D,Zu:()=>S,xm:()=>B,L1:()=>W,q8:()=>q,qp:()=>P,s_:()=>X});var a=n(34958),l=n(30507),i=n(19807),r=n(61215),o=n(36893),c=n(41015),s=n(97797);const d=(0,s.lp)(a.qH.lvl,r.PO,i.ZP.info("crystallize_level_multi")),u=(0,s.WV)(40/9,(0,s.F9)(a.qH.total.eleMas,1400)),h=(0,s.ce)((0,s.WV)((0,s.ce)((0,s.Sm)(s.J_,u),Object.assign({pivot:!0},i.ZP.info("base_crystallize_multi"))),d),i.ZP.info("crystallize")),Z=(0,s.lp)(a.qH.lvl,r.P_,i.ZP.info("transformative_level_multi")),p=(0,s.WV)(16,(0,s.F9)(a.qH.total.eleMas,2e3)),m=Object.assign({},(0,c.O)(Object.keys(r.Ne),(e=>{const{multi:t,resist:n,canCrit:l}=r.Ne[e];return(0,s.ce)((0,s.WV)((0,s.WV)((0,s.a9)(t,i.ZP.info(`${e}_multi`)),Z),(0,s.Sm)((0,s.ce)((0,s.Sm)(s.J_,p),Object.assign({pivot:!0},i.ZP.info("base_transformative_multi"))),a.qH.total[`${e}_dmg_`]),(0,s.P5)(a.qH.hit.hitMode,{hit:s.J_,critHit:l?(0,s.Sm)(s.J_,a.qH.total[`${e}_critDMG_`]):s.J_,avgHit:l?(0,s.Sm)(s.J_,(0,s.WV)((0,s.ce)((0,s.Fp)((0,s.VV)(a.qH.total[`${e}_critRate_`],(0,s.Sm)(s.J_,s.J_)),s.zv),Object.assign({},a.qH.total[`${e}_critRate_`].info,{pivot:!0})),a.qH.total[`${e}_critDMG_`])):s.J_},NaN),a.qH.enemy[`${n}_resMulti`]),i.ZP.info(`${e}_hit`))})),{swirl:(0,c.O)(r.Ne.swirl.variants,(e=>{const t=(0,s.WV)((0,s.WV)((0,s.a9)(r.Ne.swirl.multi,i.ZP.info("swirl_multi")),Z),(0,s.Sm)((0,s.ce)((0,s.Sm)(s.J_,p),Object.assign({pivot:!0},i.ZP.info("base_transformative_multi"))),a.qH.total.swirl_dmg_)),n=a.qH.enemy[`${e}_resMulti`];return(0,s.ce)(["pyro","hydro","cryo","electro"].includes(e)?"electro"===e?(0,s.aT)((0,s.WV)((0,s.Sm)(t,a.qH.hit.addTerm),n),{hit:{ele:(0,s.a9)(e)}}):(0,s.aT)((0,s.WV)(t,n,a.qH.hit.ampMulti),{hit:{ele:(0,s.a9)(e)}}):(0,s.WV)(t,n),i.ZP.info(`${e}_swirl_hit`))}))}),g={overloaded:(0,s.ce)((0,s.Dg)(a._d,"pyro",m.overloaded),i.ZP.info("overloaded_hit")),electrocharged:(0,s.ce)((0,s.Dg)(a._d,"hydro",m.electrocharged),i.ZP.info("electrocharged_hit")),superconduct:(0,s.ce)((0,s.Dg)(a._d,"cryo",m.superconduct),i.ZP.info("superconduct_hit")),burning:(0,s.ce)((0,s.Dg)(a._d,"pyro",m.burning),i.ZP.info("burning_hit")),bloom:(0,s.ce)((0,s.Dg)(a._d,"hydro",m.bloom),i.ZP.info("bloom_hit")),burgeon:(0,s.ce)((0,s.Dg)(a._d,"pyro",m.burgeon),i.ZP.info("burgeon_hit"))},f={anemo:{electroSwirl:m.swirl.electro,pyroSwirl:m.swirl.pyro,cryoSwirl:m.swirl.cryo,hydroSwirl:m.swirl.hydro,overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,shattered:m.shattered,burning:m.burning,bloom:m.bloom,burgeon:m.burgeon,hyperbloom:m.hyperbloom},geo:Object.assign({crystallize:h},Object.fromEntries(o.gs.map((e=>[`${e}Crystallize`,(0,s.ce)((0,s.WV)((0,s.aQ)(2.5),h),i.ZP.info(`${e}_crystallize`))]))),{shattered:m.shattered,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon}),electro:{overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,shattered:m.shattered,hyperbloom:m.hyperbloom,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon},hydro:{electrocharged:m.electrocharged,shattered:m.shattered,bloom:m.bloom,overloaded:g.overloaded,superconduct:g.superconduct,burning:g.burning,burgeon:g.burgeon},pyro:{overloaded:m.overloaded,shattered:m.shattered,burning:m.burning,burgeon:m.burgeon,electrocharged:g.electrocharged,superconduct:g.superconduct,bloom:g.bloom},cryo:{superconduct:m.superconduct,shattered:m.shattered,overloaded:g.overloaded,electrocharged:g.electrocharged,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon},dendro:{shattered:m.shattered,burning:m.burning,bloom:m.bloom,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,burgeon:g.burgeon}};var v=n(69190);const y=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),b=(0,c.xh)(y,(e=>[0,...Object.values(e)])),x=(0,c.O)(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],(e=>a.qH.total[e])),C=(0,s.Qq)((0,s.P5)(a.qH.hit.move,{skill:a.qH.charEle,burst:a.qH.charEle},void 0),(0,s.P5)(a.qH.weaponType,{sword:a._d,claymore:a._d,polearm:a._d,catalyst:a.qH.charEle},void 0),"physical");function w(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function k(e,t,n={}){var i;return(0,s.aT)(a.qH.hit.dmg,(0,l.b3)([{hit:{base:e,move:(0,s.a9)(t),ele:null!=n&&null!=(i=n.hit)&&i.ele?void 0:C}},n]))}function _(e,t){const n=(0,s.WV)(e,(0,s.Sm)(s.J_,a.qH.total.shield_));return t?(0,s.aT)(n,t):n}function H(e,t){const n=a.qH.total.healInc,l=(0,s.WV)((0,s.Sm)(e,n),(0,s.Sm)(s.J_,a.qH.total.heal_,a.qH.total.incHeal_));return t?(0,s.aT)(l,t):l}function S(e,t,n,l={},i){const r=w(n);return k(i?(0,s.WV)((0,s.lp)(a.qH.total[`${r}Index`],t,{unit:"%"}),a.qH.total[e],i):(0,s.WV)((0,s.lp)(a.qH.total[`${r}Index`],t,{unit:"%"}),a.qH.total[e]),n,l)}function P(e,t,n,l){return _((0,s.Sm)((0,s.WV)(t,a.qH.total[e]),n),l)}function B(e,t,n,l){return H((0,s.Sm)((0,s.WV)(t,a.qH.total[e]),n),l)}function X(e,t,n,l,i){const r=w(l),o=a.qH.total[`${r}Index`];return _((0,s.Sm)((0,s.WV)((0,s.lp)(o,t,{unit:"%"}),a.qH.total[e]),(0,s.lp)(o,n)),i)}function q(e,t){return(0,s.ce)((0,s.WV)((0,s.aQ)("geo"===e?1.5:2.5),t),{variant:e})}function W(e,t,n,l,i){const r=w(l),o=a.qH.total[`${r}Index`];return H((0,s.Sm)((0,s.WV)((0,s.lp)(o,t,{unit:"%"}),a.qH.total[e]),(0,s.lp)(o,n)),i)}function D(e,t,n,r,o,d={}){o.basic=Object.assign({},x);const u={charKey:(0,s.a9)(e),base:{},weaponType:(0,s.a9)(r.weaponTypeKey),premod:{},display:o};let h;t&&(u.charEle=(0,s.a9)(t),u.teamBuff={tally:{[t]:(0,s.a9)(1)}},u.display.basic[`${t}_dmg_`]=a.qH.total[`${t}_dmg_`],u.display.reaction=f[t]),n&&(0,c.SR)(u,["teamBuff","tally",n],(0,s.a9)(1)),(0,c.SR)(u,["teamBuff","tally","maxEleMas"],a.qH.premod.eleMas),"catalyst"!==r.weaponTypeKey&&(u.display.basic||(u.display.basic={}),u.display.basic.physical_dmg_=a.qH.total.physical_dmg_);for(const l of[...v.r,"def"]){const e=[];r.curves[l]&&e.push((Z=r.base[l],p=r.curves[l],(0,s.WV)(Z,(0,s.lp)(a.qH.lvl,b[p]))));if(r.ascensions.some((e=>e.props[l]))&&e.push((0,s.lp)(a.qH.asc,r.ascensions.map((e=>{var t;return null!=(t=e.props[l])?t:NaN})))),!e.length)continue;const t=(0,s.ce)(1===e.length?e[0]:(0,s.Sm)(...e),Object.assign({},i.ZP.info(l),{prefix:"char",asConst:!0}));if(l.endsWith("_dmg_")&&(t.info.variant=l.slice(0,-5)),"atk"===l||"def"===l||"hp"===l)u.base[l]=t;else{if(h)throw new Error("Duplicated Char Special");h=!0,u.special=t,u.premod[l]=a.qH.special}}var Z,p;return(0,l.b3)([u,(0,l.d1)(d)])}},1296:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var a=n(31461),l=n(7671),i=n(67550),r=n(30609),o=n(56961),c=n(41075),s=n(65992),d=n(99479),u=n(43894),h=n(75213),Z=n(62197),p=n(2784),m=n(21548),g=n(87985),f=n(67937),v=n(50875),y=n(72055),b=n(98927),x=n(46026),C=n(83673),w=n(71765),k=n(59236),_=n(29117),H=n(790),S=n(13913),P=n(21626),B=n(51650),X=n(44304),q=n(10002),W=n(36617),D=n(25434),L=n(36893),z=n(45069),T=n(1661),V=n(52903);const I=["className"],R=Object.keys(z.V3);function $({show:e,onHide:t,onSelect:n,filter:a=(()=>!0),newFirst:s=!1}){const{t:d}=(0,m.$G)(["page_character","charNames_gen"]),{database:u}=(0,p.useContext)(B.t),[h,Z]=(0,p.useState)((()=>u.displayCharacter.get()));(0,p.useEffect)((()=>u.displayCharacter.follow(((e,t)=>Z(t)))),[u,Z]);const f=(0,D.Z)((()=>S.Z.getAll),[]),[v,C]=(0,W.Z)();(0,p.useEffect)((()=>u.charMeta.followAny((e=>C()))),[C,u]);const[w,P]=(0,p.useState)(""),X=(0,p.useDeferredValue)(w),q=(0,p.useDeferredValue)(h),I=(0,p.useDeferredValue)(v),$=(0,p.useMemo)((()=>{var e;if(!f)return[];const{element:t,weaponType:n,sortType:l,ascending:i}=q,r=[...s?["new"]:[],...null!=(e=z.V3[l])?e:[]];return I&&L.IV.filter((e=>a(u.chars.get(e),f[e]))).filter((0,T.C)({element:t,weaponType:n,name:X},(0,z.zU)(u,f))).sort((0,T.e)(r,i,(0,z._L)(u,f),["new","favorite"]))}),[u,s,q,f,I,X,a]);if(!f)return null;const{weaponType:M,element:K,sortType:j,ascending:N}=h;return(0,V.tZ)(b.Z,{open:e,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,V.BX)(g.Z,{children:[(0,V.BX)(l.Z,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,V.tZ)(_.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({weaponType:e}),value:M,size:"small"}),(0,V.tZ)(k.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({element:e}),value:K,size:"small"}),(0,V.tZ)(i.Z,{flexGrow:1,children:(0,V.tZ)(r.Z,{autoFocus:!0,value:w,onChange:e=>P(e.target.value),label:d("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,V.tZ)(x.Z,{sx:{height:"100%"},sortKeys:R,value:j,onChange:e=>u.displayCharacter.set({sortType:e}),ascending:N,onChangeAsc:e=>u.displayCharacter.set({ascending:e})}),(0,V.tZ)(y.Z,{onClick:t})]}),(0,V.tZ)(o.Z,{}),(0,V.tZ)(H.R.Provider,{value:{teamData:void 0},children:(0,V.tZ)(l.Z,{children:(0,V.tZ)(c.ZP,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:$.map((e=>(0,V.tZ)(c.ZP,{item:!0,xs:1,children:(0,V.tZ)(O,{characterKey:e,onClick:()=>{t(),null==n||n(e)}})},e)))})})})]})})}const M=(0,s.ZP)((e=>{let{className:t}=e,n=(0,a.Z)(e,I);return(0,V.tZ)(d.Z,Object.assign({},n,{classes:{popper:t}}))}))({[`& .${u.Z.tooltip}`]:{padding:0}});function O({characterKey:e,onClick:t}){var n;const{gender:a}=(0,q.Z)(),l=(0,D.Z)((()=>S.Z.get(e,a)),[e,a]),r=(0,X.Z)(e),{level:o=1,ascension:c=0,constellation:s=0}=null!=r?r:{};return(0,V.tZ)(M,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",title:(0,V.tZ)(i.Z,{sx:{width:300},children:(0,V.tZ)(v.Z,{hideStats:!0,characterKey:e})}),children:(0,V.tZ)(i.Z,{children:(0,V.tZ)(f.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:(0,V.tZ)(h.Z,{onClick:t,children:(0,V.BX)(i.Z,{display:"flex",position:"relative",className:`grad-${null==l?void 0:l.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${null==l?void 0:l.bannerImg})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,V.tZ)(i.Z,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,V.tZ)(i.Z,{component:"img",src:null==l?void 0:l.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,V.BX)(i.Z,{flexGrow:1,sx:{pr:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[(0,V.tZ)(Z.Z,{variant:"body2",children:(0,V.tZ)(C.Z,{color:null==l?void 0:l.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:null==l?void 0:l.name})}),r?(0,V.BX)(i.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,V.BX)(i.Z,{sx:{textShadow:"0 0 5px gray"},children:[(0,V.BX)(Z.Z,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",o]}),(0,V.BX)(Z.Z,{variant:"body2",component:"span",color:"text.secondary",children:["/",P.SJ[c]]})]}),(0,V.BX)(Z.Z,{variant:"body2",children:["C",s]})]}):(0,V.tZ)(Z.Z,{component:"span",variant:"body2",children:(0,V.tZ)(C.Z,{children:"NEW"})}),(0,V.tZ)(Z.Z,{variant:"body2",children:(0,V.tZ)(w.q,{stars:null!=(n=null==l?void 0:l.rarity)?n:1,colored:!0})})]})]})})})})})}},3694:(e,t,n)=>{n.d(t,{Z:()=>T});var a=n(9725),l=n(67732),i=n(54278),r=n(40535),o=n(75213),c=n(67550),s=n(79906),d=n(85801),u=n(62197),h=n(7671),Z=n(38553),p=n(99479),m=n(83249),g=n(2784),f=n(21548),v=n(79536),y=n(67937),b=n(43007),x=n(37923),C=n(57889),w=n(26578),k=n(71765),_=n(21626),H=n(71026),S=n(51650),P=n(34958),B=n(30507),X=n(61278),q=n(25434),W=n(94758),D=n(52903);let L,z=e=>e;function T({weaponId:e,onClick:t,onEdit:n,onDelete:T,canEquip:V=!1,extraButtons:I}){var R;const{t:$}=(0,f.$G)(["page_weapon","ui"]),{database:M}=(0,g.useContext)(S.t),O=(0,W.Z)(e),K=(0,q.Z)((()=>null!=O&&O.key?H.Z.get(O.key):void 0),[null==O?void 0:O.key]),j=(0,g.useCallback)((e=>e.weaponTypeKey===(null==K?void 0:K.weaponType)),[K]),N=(0,g.useCallback)((n=>(0,D.tZ)(o.Z,{onClick:()=>null==t?void 0:t(e),children:n})),[t,e]),G=(0,g.useCallback)((e=>(0,D.tZ)(c.Z,{children:e})),[]),E=(0,g.useCallback)((t=>e&&M.weapons.set(e,{location:t})),[M,e]),J=(0,g.useMemo)((()=>K&&O&&(0,B.mP)([K.data,(0,B.v0)(O)])),[K,O]);if(!O||!K||!J)return null;const{level:A,ascension:F,refinement:Y,id:U,location:Q="",lock:ee}=O,te=J.get(P.ri.weapon.type).value,ne=[P.ri.weapon.main,P.ri.weapon.sub,P.ri.weapon.sub2].map((e=>J.get(e))),ae=K.getImg(F);return(0,D.tZ)(g.Suspense,{fallback:(0,D.tZ)(s.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,D.BX)(y.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,D.BX)(C.Z,{condition:!!t,wrapper:N,falseWrapper:G,children:[(0,D.BX)(c.Z,{className:`grad-${K.rarity}star`,sx:{position:"relative",pt:2,px:2},children:[!t&&(0,D.tZ)(d.Z,{color:"primary",onClick:()=>M.weapons.set(U,{lock:!ee}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:ee?(0,D.tZ)(i.Z,{}):(0,D.tZ)(r.Z,{})}),(0,D.BX)(c.Z,{sx:{position:"relative",zIndex:1},children:[(0,D.BX)(c.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,D.tZ)(w.Z,{sx:{fontSize:"1.5em"},src:null==(R=v.Z.weaponTypes)?void 0:R[te]}),(0,D.tZ)(u.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,D.tZ)("strong",{children:K.name})})]}),(0,D.BX)(u.Z,{component:"span",variant:"h5",children:["Lv. ",A]}),(0,D.BX)(u.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",_.SJ[F]]}),(0,D.BX)(u.Z,{variant:"h6",children:["Refinement ",(0,D.tZ)("strong",{children:Y})]}),(0,D.tZ)(u.Z,{children:(0,D.tZ)(k.q,{stars:K.rarity,colored:!0})})]}),(0,D.tZ)(c.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,D.tZ)(c.Z,{component:"img",src:null!=ae?ae:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,D.tZ)(h.Z,{children:ne.map((e=>e.info.name?(0,D.BX)(c.Z,{sx:{display:"flex"},children:[(0,D.BX)(u.Z,{flexGrow:1,children:[e.info.icon," ",e.info.name]}),(0,D.tZ)(u.Z,{children:(0,X.p)(e)})]},JSON.stringify(e.info)):null))})]}),(0,D.BX)(c.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,D.tZ)(c.Z,{sx:{flexGrow:1},children:V?(0,D.tZ)(b.W,{location:Q,setLocation:E,filter:j,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}}):(0,D.tZ)(x.Z,{location:Q})}),(0,D.BX)(Z.Z,{sx:{height:"100%"},children:[!!n&&(0,D.tZ)(p.Z,{title:(0,D.tZ)(u.Z,{children:$(L||(L=z`page_weapon:edit`))}),placement:"top",arrow:!0,children:(0,D.tZ)(m.Z,{color:"info",onClick:()=>n(U),children:(0,D.tZ)(l.G,{icon:a.Xcf,className:"fa-fw"})})}),!!T&&(0,D.tZ)(m.Z,{color:"error",onClick:()=>T(U),disabled:!!Q||ee,children:(0,D.tZ)(l.G,{icon:a.I7k,className:"fa-fw"})}),I]})]})]})})}},15878:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(54278),l=n(40535),i=n(7671),r=n(41075),o=n(67550),c=n(62197),s=n(38553),d=n(83249),u=n(42523),h=n(56961),Z=n(15873),p=n(2784),m=n(87985),g=n(67937),f=n(43007),v=n(72055),y=n(73740),b=n(64919),x=n(97859),C=n(98927),w=n(14520),k=n(71765),_=n(790),H=n(13913),S=n(21626),P=n(71026),B=n(51650),X=n(34958),q=n(30507),W=n(94657),D=n(10002),L=n(25434),z=n(94758),T=n(52903);const V=p.lazy((()=>n.e(592).then(n.bind(n,89431))));function I({weaponId:e,footer:t=!1,onClose:n,extraButtons:I}){var R;const{data:$}=(0,p.useContext)(_.R),{database:M}=(0,p.useContext)(B.t),O=(0,z.Z)(e),{key:K="",level:j=0,refinement:N=1,ascension:G=0,lock:E,location:J="",id:A}=null!=O?O:{},F=(0,L.Z)((()=>P.Z.get(K)),[K]),Y=(0,p.useCallback)((t=>{M.weapons.set(e,t)}),[e,M]),{gender:U}=(0,D.Z)(),Q=(0,L.Z)((()=>J?H.Z.get(M.chars.LocationToCharacterKey(J),U):void 0),[M,U,J]),ee=Q&&Q.weaponTypeKey,te=(0,p.useCallback)((e=>A&&M.weapons.set(A,{location:e})),[M,A]),ne=(0,p.useCallback)((e=>e.weaponTypeKey===(null==F?void 0:F.weaponType)),[F]),[ae,le,ie]=(0,W.Z)(),re=null==F?void 0:F.getImg(G);(0,p.useEffect)((()=>{if(F&&Y&&F.key===(null==O?void 0:O.key)&&F.rarity<=2&&(j>70||G>4)){const[e,t]=S.vF[0];Y({level:e,ascension:t})}}),[F,O,Y,j,G]);const oe=(0,p.useMemo)((()=>F&&O&&(0,q.mP)([F.data,(0,q.v0)(O)])),[F,O]);return(0,T.tZ)(C.Z,{open:!!e,onClose:n,containerProps:{maxWidth:"md"},children:(0,T.BX)(g.Z,{children:[(0,T.tZ)(V,{ascension:G,show:ae,onHide:ie,onSelect:e=>Y({key:e}),weaponTypeFilter:ee}),(0,T.tZ)(i.Z,{children:F&&oe&&(0,T.BX)(r.ZP,{container:!0,spacing:1.5,children:[(0,T.tZ)(r.ZP,{item:!0,xs:12,sm:3,children:(0,T.BX)(r.ZP,{container:!0,spacing:1.5,children:[(0,T.tZ)(r.ZP,{item:!0,xs:6,sm:12,children:(0,T.tZ)(o.Z,{component:"img",src:re,className:`grad-${F.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,T.tZ)(r.ZP,{item:!0,xs:6,sm:12,children:(0,T.tZ)(c.Z,{children:(0,T.tZ)("small",{children:F.description})})})]})}),(0,T.BX)(r.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,T.tZ)(o.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,T.BX)(s.Z,{children:[(0,T.tZ)(d.Z,{color:"info",onClick:le,children:null!=(R=null==F?void 0:F.name)?R:"Select a Weapon"}),(null==F?void 0:F.hasRefinement)&&(0,T.tZ)(w.Z,{refinement:N,setRefinement:e=>Y({refinement:e})}),I]})}),(0,T.BX)(o.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[F&&(0,T.tZ)(x.Z,{level:j,ascension:G,setBoth:Y,useLow:!F.hasRefinement}),(0,T.tZ)(d.Z,{color:"error",onClick:()=>A&&M.weapons.set(A,{lock:!E}),startIcon:E?(0,T.tZ)(a.Z,{}):(0,T.tZ)(l.Z,{}),children:E?"Locked":"Unlocked"})]}),(0,T.tZ)(c.Z,{children:(0,T.tZ)(k.q,{stars:F.rarity})}),(0,T.tZ)(c.Z,{variant:"subtitle1",children:(0,T.tZ)("strong",{children:F.passiveName})}),(0,T.tZ)(c.Z,{gutterBottom:!0,children:F.passiveName&&F.passiveDescription(oe.get(X.ri.weapon.refineIndex).value)}),(0,T.BX)(o.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,T.BX)(m.Z,{children:[(0,T.tZ)(u.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,T.tZ)(h.Z,{}),(0,T.tZ)(b.lD,{children:[X.ri.weapon.main,X.ri.weapon.sub,X.ri.weapon.sub2].map((e=>{const t=oe.get(e);return t.isEmpty||!t.value?null:(0,T.tZ)(b.JW,{node:t,component:Z.ZP},JSON.stringify(t.info))}))})]}),$&&F.document&&(0,T.tZ)(y.Z,{sections:F.document})]})]})]})}),t&&A&&(0,T.tZ)(i.Z,{sx:{py:1},children:(0,T.BX)(r.ZP,{container:!0,spacing:1,children:[(0,T.tZ)(r.ZP,{item:!0,flexGrow:1,children:(0,T.tZ)(f.W,{location:J,setLocation:te,filter:ne,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}})}),(0,T.tZ)(r.ZP,{item:!0,flexGrow:2}),!!n&&(0,T.tZ)(r.ZP,{item:!0,children:(0,T.tZ)(v.Z,{sx:{height:"100%"},large:!0,onClick:n})})]})})]})})}}}]);