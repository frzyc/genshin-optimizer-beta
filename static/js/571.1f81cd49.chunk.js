"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[571],{40571:function(e,t,n){n.r(t),n.d(t,{default:function(){return Me}});var r=n(39504),a=n(20890),s=n(94721),i=n(10757),o=n(22020),c=n(76899),l=n(3992),d=n(29439),u=n(30168),h=n(53174),x=n(74223),p=n(80184),f=(0,x.Z)((0,p.jsx)("path",{d:"M9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"}),"ImportExport"),j=(0,x.Z)((0,p.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload"),g=n(72456),Z=(0,x.Z)((0,p.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),v=n(61889),m=n(24518),b=n(81918),y=n(52791),w=n(72791),C=n(71310),I=n(10600),k=n(82095),S=n(9321),D=n(25074),M=n(23741),z=n(1413),O="Genshin Optimizer";var K=n(3608);function P(e){var t=new Map,n=e.entries.filter((function(e){return(0,d.Z)(e,1)[0].startsWith("artifact_")})).map((function(e,n){var r=(0,d.Z)(e,2),a=r[0],s=r[1];return t.set(a,n),JSON.parse(s)}));return{format:"GOOD",dbVersion:K.U,source:O,version:1,characters:e.entries.filter((function(e){return(0,d.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,d.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),artifacts:n,weapons:e.entries.filter((function(e){return(0,d.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,d.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),states:e.entries.filter((function(e){return(0,d.Z)(e,1)[0].startsWith("state_")})).map((function(e){var t=(0,d.Z)(e,2),n=t[0],r=t[1];return(0,z.Z)((0,z.Z)({},JSON.parse(r)),{},{key:n.split("state_")[1]})})),buildSettings:e.entries.filter((function(e){return(0,d.Z)(e,1)[0].startsWith("buildSetting_")})).map((function(e){var n=(0,d.Z)(e,2),r=n[0],a=n[1],s=(0,z.Z)((0,z.Z)({},JSON.parse(a)),{},{key:r.split("buildSetting_")[1]});return s.builds=s.builds.map((function(e){return e.map((function(e){return t.has(e)?"artifact_".concat(t.get(e)):""})).filter((function(e){return e}))})),s}))}}var G,W,H,_,B,V=n(24711),F=n(17278),A=n(60393),E=n(74165),N=n(15861),J=n(54483),L=(0,x.Z)((0,p.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen"),T=(0,x.Z)([(0,p.jsx)("ellipse",{cx:"12",cy:"12",rx:"3",ry:"5.74"},"0"),(0,p.jsx)("path",{d:"M7.5 12c0-.97.23-4.16 3.03-6.5C9.75 5.19 8.9 5 8 5c-3.86 0-7 3.14-7 7s3.14 7 7 7c.9 0 1.75-.19 2.53-.5-2.8-2.34-3.03-5.53-3.03-6.5zM16 5c-.9 0-1.75.19-2.53.5.61.51 1.1 1.07 1.49 1.63.33-.08.68-.13 1.04-.13 2.76 0 5 2.24 5 5s-2.24 5-5 5c-.36 0-.71-.05-1.04-.13-.39.56-.88 1.12-1.49 1.63.78.31 1.63.5 2.53.5 3.86 0 7-3.14 7-7s-3.14-7-7-7z"},"1")],"JoinLeft"),R=(0,x.Z)([(0,p.jsx)("ellipse",{cx:"12",cy:"12",rx:"3",ry:"5.74"},"0"),(0,p.jsx)("path",{d:"M7.5 12c0-.97.23-4.16 3.03-6.5C9.75 5.19 8.9 5 8 5c-3.86 0-7 3.14-7 7s3.14 7 7 7c.9 0 1.75-.19 2.53-.5-2.8-2.34-3.03-5.53-3.03-6.5zM16 5c-.9 0-1.75.19-2.53.5 2.8 2.34 3.03 5.53 3.03 6.5 0 .97-.23 4.16-3.03 6.5.78.31 1.63.5 2.53.5 3.86 0 7-3.14 7-7s-3.14-7-7-7z"},"1")],"JoinFull"),$=(0,x.Z)((0,p.jsx)("path",{d:"M18 4v5H6V4h12m0-2H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 13v5H6v-5h12m0-2H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"}),"Splitscreen"),U=(0,x.Z)((0,p.jsx)("path",{d:"M17 20.41 18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"}),"MergeType"),Y=n(66934),q=n(68870),Q=n(40165),X=n(45987),ee=["key"],te=["key","builds","buildDate"];function ne(e,t,n,r){if(1===e.version)return function(e,t,n,r){var a,s=null!==(a=e.source)&&void 0!==a?a:"Unknown",i=function(e){return{type:"GOOD",source:e,artifacts:{import:0,invalid:[],new:[],update:[],unchanged:[],remove:[],notInImport:0},weapons:{import:0,invalid:[],new:[],update:[],unchanged:[],remove:[],notInImport:0},characters:{import:0,invalid:[],new:[],update:[],unchanged:[],remove:[],notInImport:0}}}(s),o=function(e){return function(t,n,r){return i[e][n].push(r)}},c=t.chars.followAny((function(e,t,n){var r=i.characters[t],a=r.findIndex((function(t){return t.key===e}));a<0?r.push(n):r[a]=n})),l=t.arts.followAny(o("artifacts")),d=t.weapons.followAny(o("weapons")),u=e.characters;if(u){i.characters.import=u.length;var h=new Set(t.chars.keys);u.forEach((function(e){e.key||i.characters.invalid.push(e),h.delete(e.key),t.chars.hasDup(e,s===O)?i.characters.unchanged.push(e):t.chars.set(e.key,e)}));var x=Array.from(h);n||r?i.characters.notInImport=x.length:x.forEach((function(e){return t.chars.remove(e)})),i.characters.unchanged=[]}else i.characters.notInImport=t.chars.values.length;var p=e.weapons;if(p){i.weapons.import=p.length;var f=new Set(t.weapons.values.map((function(e){return e.id})));p.forEach((function(e){var n=t.weapons.validate(e);if(!n)return i.weapons.invalid.push(e);var a=r?{duplicated:[],upgraded:[]}:t.weapons.findDup(n),s=a.duplicated,o=a.upgraded;if(s=s.filter((function(e){return f.has(e.id)})),o=o.filter((function(e){return f.has(e.id)})),s[0]){var c=s[0]||o[0];f.delete(c.id),s[0]&&s[0].location===n.location?i.weapons.unchanged.push(n):t.weapons.set(c.id,n)}else t.weapons.new(n)}));var j=Array.from(f);n||r?i.weapons.notInImport=j.length:j.forEach((function(e){return t.weapons.remove(e)}))}else i.weapons.notInImport=t.weapons.values.length;var g=e.artifacts;if(g){i.artifacts.import=g.length;var Z=new Set(t.arts.values.map((function(e){return e.id})));g.forEach((function(e){var n=t.arts.validate(e);if(!n)return i.artifacts.invalid.push(e);var a=r?{duplicated:[],upgraded:[]}:t.arts.findDups(n),s=a.duplicated,o=a.upgraded;if(s=s.filter((function(e){return Z.has(e.id)})),o=o.filter((function(e){return Z.has(e.id)})),s[0]){var c=s[0]||o[0];Z.delete(c.id),s[0]&&s[0].location===n.location?i.artifacts.unchanged.push(n):t.arts.set(c.id,n)}else t.arts.new(n)}));var v=Array.from(Z);n||r?i.artifacts.notInImport=v.length:v.forEach((function(e){return t.arts.remove(e)}))}else i.artifacts.notInImport=t.arts.values.length;c(),l(),d();var m=i.states;m&&m.forEach((function(e){var n=e,r=n.key,a=(0,X.Z)(n,ee);r&&t.states.set(r,a)}));var b=i.buildSettings;b&&b.forEach((function(e){var n=e,r=n.key,a=(n.builds,n.buildDate,(0,X.Z)(n,te));r&&t.states.set(r,(0,z.Z)({},a))}));return i}(e,t,n,r)}var re,ae,se,ie,oe,ce,le,de=(0,Y.ZP)("input")({display:"none"});function ue(e){var t,n=e.onReplace,s=(0,w.useContext)(D.t).database,i=(0,o.$)("settings").t,x=(0,w.useState)(""),f=(0,d.Z)(x,2),j=f[0],g=f[1],Z=(0,w.useState)(""),b=(0,d.Z)(Z,2),y=b[0],I=b[1],k=(0,w.useState)(""),S=(0,d.Z)(k,2),z=S[0],O=S[1],K=(0,w.useState)(!1),P=(0,d.Z)(K,2),V=P[0],F=P[1],A=(0,w.useState)(!1),Y=(0,d.Z)(A,2),X=Y[0],ee=Y[1],te=null!==(t=(0,w.useMemo)((function(){if(j){var e;try{if("object"!==typeof(e=JSON.parse(j)))return void O("uploadCard.error.jsonParse")}catch(a){return void O("uploadCard.error.jsonParse")}if("GOOD"===e.format){var t=new M.NI;t.copyFrom(s.storage);var n=new D.M(t),r=ne(e,n,V,X);return r?{importResult:r,importedDatabase:n}:void O("uploadCard.error.goInvalid")}O("uploadCard.error.unknown")}}),[j,s,V,X]))&&void 0!==t?t:{},re=te.importResult,ae=te.importedDatabase,se=function(){var e=(0,N.Z)((0,E.Z)().mark((function e(t){var n,r;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],t.target.value=null,n&&I(n.name),(r=new FileReader).onload=function(){return g(r.result)},r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(C.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(c.c,{t:i,i18nKey:"settings:uploadCard.title"})}),(0,p.jsxs)(r.Z,{children:[(0,p.jsxs)(v.ZP,{container:!0,spacing:2,sx:{mb:1},children:[(0,p.jsx)(v.ZP,{item:!0,children:(0,p.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,p.jsx)(de,{accept:".json",id:"icon-button-file",type:"file",onChange:se}),(0,p.jsx)(m.Z,{component:"span",startIcon:(0,p.jsx)(L,{}),children:i(G||(G=(0,u.Z)(["uploadCard.buttons.open"])))})]})}),(0,p.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(l.Z,{sx:{px:2,py:1},children:(0,p.jsx)(a.Z,{children:y?(0,p.jsxs)("span",{children:[(0,p.jsx)(J.G,{icon:h.w49})," ",y]}):(0,p.jsxs)("span",{children:[(0,p.jsx)(J.G,{icon:h.acZ})," ",(0,p.jsx)(c.c,{t:i,i18nKey:"settings:uploadCard.hint"})]})})})})]}),(0,p.jsxs)(q.Z,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,p.jsx)(Q.Z,{title:(0,p.jsx)(q.Z,{children:(0,p.jsxs)(c.c,{t:i,i18nKey:"settings:uploadCard.tooltip.partial",children:[(0,p.jsx)(a.Z,{variant:"h6",children:"Full Import"}),(0,p.jsx)(a.Z,{gutterBottom:!0,children:"Assume the import to be the full inventory. Artifacts/weapons in GO that doesnt exist in the import are deleted."}),(0,p.jsx)(a.Z,{variant:"h6",children:"Partial Import"}),(0,p.jsx)(a.Z,{children:"Assume the import is a partial inventory. Artifacts/weapons are updated/deduplicated(depending on setting), but not deleted."})]})}),placement:"top",arrow:!0,children:(0,p.jsx)(q.Z,{sx:{flexGrow:1,flexBasis:"10em"},children:(0,p.jsx)(m.Z,{fullWidth:!0,disabled:!j,onClick:function(){return F(!V)},startIcon:V?(0,p.jsx)(T,{}):(0,p.jsx)(R,{}),children:i(V?W||(W=(0,u.Z)(["uploadCard.buttons.partialImport"])):H||(H=(0,u.Z)(["uploadCard.buttons.fullImport"])))})})}),(0,p.jsx)(Q.Z,{title:(0,p.jsx)(q.Z,{children:(0,p.jsxs)(c.c,{t:i,i18nKey:"settings:uploadCard.tooltip.disjoint",children:[(0,p.jsx)(a.Z,{variant:"h6",children:"Merge Import"}),(0,p.jsx)(a.Z,{gutterBottom:!0,children:"Find upgrade/duplicates in the GO inventory and merge the import into GO."}),(0,p.jsx)(a.Z,{variant:"h6",children:"Disjoint Import"}),(0,p.jsx)(a.Z,{children:"Assume the import does not have any upgrades/duplicates, the import is merged into GO without upgrade/duplicate detection."})]})}),placement:"top",arrow:!0,children:(0,p.jsx)(q.Z,{sx:{flexGrow:1,flexBasis:"10em"},children:(0,p.jsx)(m.Z,{fullWidth:!0,disabled:!j,onClick:function(){return ee(!X)},startIcon:X?(0,p.jsx)($,{}):(0,p.jsx)(U,{}),children:i(X?_||(_=(0,u.Z)(["uploadCard.buttons.disjointImport"])):B||(B=(0,u.Z)(["uploadCard.buttons.mergeImport"])))})})})]}),(0,p.jsx)(a.Z,{gutterBottom:!0,variant:"caption",children:(0,p.jsx)(c.c,{t:i,i18nKey:"settings:uploadCard.hintPaste"})}),(0,p.jsx)(q.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",mb:2,resize:"vertical"},value:j,onChange:function(e){return g(e.target.value)}}),re&&ae?(0,p.jsx)(he,{importResult:re,importedDatabase:ae}):i(z)]}),(0,p.jsx)(pe,{importedDatabase:ae,reset:function(){g(""),I(""),n()}})]})}function he(e){var t=e.importResult,n=t.source,i=t.artifacts,d=t.characters,u=t.weapons,h=e.importedDatabase,x=(0,o.$)("settings").t;return(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:x,i18nKey:"uploadCard.dbSource"}),(0,p.jsxs)("strong",{children:[" ",n]})]})}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{children:(0,p.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,p.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(xe,{result:i,dbTotal:h.arts.values.length,type:"arts"})}),(0,p.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(xe,{result:u,dbTotal:h.weapons.values.length,type:"weapons"})}),(0,p.jsx)(v.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(xe,{result:d,dbTotal:h.chars.values.length,type:"chars"})})]})})]})}function xe(e){var t,n=e.result,i=e.dbTotal,l=e.type,d=(0,o.$)("settings").t,u=n.import;return(0,p.jsxs)(C.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.".concat(l)})," ",u]})}),(0,p.jsx)(s.Z,{}),(0,p.jsxs)(r.Z,{children:[(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.new"})," ",(0,p.jsx)("strong",{children:n.new.length})," / ",u]}),(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.updated"})," ",(0,p.jsx)("strong",{children:n.update.length})," / ",u]}),(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.unchanged"})," ",(0,p.jsx)("strong",{children:n.unchanged.length})," / ",u]}),!!n.remove.length&&(0,p.jsxs)(a.Z,{color:"warning.main",children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.removed"})," ",(0,p.jsx)("strong",{children:n.remove.length})]}),!!n.notInImport&&(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.notInImport"})," ",(0,p.jsx)("strong",{children:n.notInImport})]}),(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.dbTotal"})," ",(0,p.jsx)("strong",{children:i})]}),!(null===(t=n.invalid)||void 0===t||!t.length)&&(0,p.jsxs)("div",{children:[(0,p.jsxs)(a.Z,{color:"error.main",children:[(0,p.jsx)(c.c,{t:d,i18nKey:"count.invalid"})," ",(0,p.jsx)("strong",{children:n.invalid.length})," / ",u]}),(0,p.jsx)(q.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",resize:"vertical"},value:JSON.stringify(n.invalid,void 0,2),disabled:!0})]})]})]})}function pe(e){var t=e.importedDatabase,n=e.reset,a=(0,w.useContext)(D.t),i=a.database,l=a.setDatabase,d=(0,o.$)("settings").t,u=(0,w.useCallback)((function(){t&&(i.clear(),i.storage.copyFrom(t.storage),l(new D.M(i.storage)),n())}),[i,t,n,l]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(m.Z,{color:t?"success":"error",disabled:!t,onClick:u,startIcon:(0,p.jsx)(J.G,{icon:h.Y9i}),children:(0,p.jsx)(c.c,{t:d,i18nKey:"settings:uploadCard.replaceDatabase"})})})]})}function fe(){var e=(0,w.useContext)(D.t),t=parseInt(e.database.storage.getString("dbIndex")||"1"),n=(0,o.$)(["settings"]).t;return(0,p.jsxs)(C.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(a.Z,{variant:"subtitle1",children:n(re||(re=(0,u.Z)(["DatabaseCard.title"])))})}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:(0,p.jsx)(v.ZP,{container:!0,spacing:2,columns:{xs:1,md:2},children:(0,A.w6)(1,4).map((function(n){return(0,p.jsx)(v.ZP,{item:!0,xs:1,children:n===t?(0,p.jsx)(ge,{index:n}):(0,p.jsx)(je,{index:n,children:(0,p.jsx)(ge,{index:n,databaseContextObj:e})})},n)}))})})]})}function je(e){var t=e.index,n=e.children,r=(0,w.useState)((function(){var e,n="extraDatabase_".concat(t),r=new M.Bc(n),a=JSON.parse(null!==(e=localStorage.getItem(n))&&void 0!==e?e:'{ "dbIndex": "'.concat(t,'" }'));r.setStorage(a),r.removeForKeys((function(e){return e.startsWith("extraDatabase_")}));var s=new D.M(r);return r.saveStorage(),s})),a=(0,d.Z)(r,2),s=a[0],i=a[1];return(0,p.jsx)(D.t.Provider,{value:{database:s,setDatabase:i},children:n})}function ge(e){var t=e.index,n=e.databaseContextObj,i=(0,w.useContext)(D.t),x=i.database,C=i.setDatabase,z=(0,F.Z)("dbMeta",(0,F.t)(t)),O=(0,d.Z)(z,2),K=O[0],G=K.name,W=K.lastEdit,H=O[1],_=!n,B=(0,V.Z)(),A=(0,d.Z)(B,3),E=A[0],N=A[1],J=A[2],L=(0,o.$)(["settings"]).t,T=x.chars.keys.length,R=x.arts.values.length,$=x.weapons.values.length,U=Boolean(T||R||$),Y=(0,w.useCallback)((function(){return navigator.clipboard.writeText(JSON.stringify(P(x.storage))).then((function(){return alert("Copied database to clipboard.")})).catch(console.error)}),[x]),q=(0,w.useCallback)((function(){(J(),_)||x.storage.saveStorage()}),[J,_,x.storage]),Q=(0,w.useCallback)((function(){if(window.confirm('Are you sure you want to delete "'.concat(G,'"?')))if(_)x.clear(),C(new D.M(x.storage));else{var e=x.storage.databaseName,t=new M.Bc(e);t.setStorage({}),C(new D.M(t)),localStorage.removeItem(e)}}),[x,_,G,C]),X=(0,w.useCallback)((function(){var e=(new Date).toISOString().split(".")[0].replace("T","_").replaceAll(":","-"),t=JSON.stringify(P(x.storage)),n="".concat(G.trim().replaceAll(" ","_"),"_").concat(e,".json"),r=document.createElement("a");r.download=n,r.href="data:".concat("application/json;charset=utf-8",",").concat(encodeURIComponent(t)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}),[x,G]),ee=(0,w.useCallback)((function(){if(n){var e=parseInt(n.database.storage.getString("dbIndex")||"1"),r=new M.Bc("extraDatabase_".concat(e),n.database.storage);r.removeForKeys((function(e){return e.startsWith("extraDatabase_")})),r.saveStorage();var a=x.storage.databaseName;localStorage.removeItem(a),n.database.clear(),n.database.storage.copyFrom(x.storage),n.database.storage.set("dbIndex",t),n.setDatabase(new D.M(n.database.storage))}}),[n,x,t]),te=(0,w.useState)(G),ne=(0,d.Z)(te,2),re=ne[0],de=ne[1];(0,w.useEffect)((function(){return de(G)}),[G]);var he=(0,w.useCallback)((function(){H({name:re}),_||x.storage.saveStorage()}),[H,re,x,_]),xe=(0,w.useCallback)((function(e){return"Enter"===e.key&&he()}),[he]);return(0,p.jsxs)(l.Z,{sx:{height:"100%",boxShadow:_?"0px 0px 0px 2px green inset":void 0},children:[(0,p.jsxs)(r.Z,{sx:{display:"flex",gap:1,justifyContent:"space-between"},children:[(0,p.jsx)(I.el,{value:re,sx:{borderRadius:1,px:1,flexGrow:1},onChange:function(e){return de(e.target.value)},onBlur:he,onKeyDown:xe}),!_&&(0,p.jsx)(m.Z,{startIcon:(0,p.jsx)(f,{}),onClick:ee,color:"warning",children:L(ae||(ae=(0,u.Z)(["DatabaseCard.button.swap"])))}),(0,p.jsx)(b.Z,{color:_?"success":"secondary",label:_?L(se||(se=(0,u.Z)(["DatabaseCard.currentDB"]))):"".concat(L(ie||(ie=(0,u.Z)(["DatabaseCard.title"])))," ").concat(t)})]}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{children:(0,p.jsxs)(y.Z,{display:"flex",gap:2,children:[(0,p.jsxs)(y.Z,{flexGrow:1,children:[(0,p.jsxs)(a.Z,{noWrap:!0,children:[(0,p.jsx)(c.c,{t:L,i18nKey:"count.chars"})," ",(0,p.jsx)("strong",{children:T})]}),(0,p.jsxs)(a.Z,{noWrap:!0,children:[(0,p.jsx)(c.c,{t:L,i18nKey:"count.arts"})," ",(0,p.jsx)("strong",{children:R})]}),(0,p.jsxs)(a.Z,{noWrap:!0,children:[(0,p.jsx)(c.c,{t:L,i18nKey:"count.weapons"})," ",(0,p.jsx)("strong",{children:$})]}),!!W&&(0,p.jsx)(a.Z,{noWrap:!0,children:(0,p.jsx)("strong",{children:new Date(W).toLocaleString()})})]}),(0,p.jsx)(y.Z,{children:(0,p.jsxs)(v.ZP,{container:!0,spacing:1,columns:{xs:2},children:[(0,p.jsx)(v.ZP,{item:!0,xs:1,children:(0,p.jsx)(m.Z,{fullWidth:!0,disabled:!U,color:"info",onClick:Y,startIcon:(0,p.jsx)(k.Z,{icon:h.Yjj}),children:(0,p.jsx)(c.c,{t:L,i18nKey:"DatabaseCard.button.copy"})})}),(0,p.jsxs)(v.ZP,{item:!0,xs:1,children:[(0,p.jsx)(S.Z,{open:E,onClose:J,children:(0,p.jsx)(ue,{onReplace:q})}),(0,p.jsx)(m.Z,{fullWidth:!0,component:"span",color:"info",startIcon:(0,p.jsx)(j,{}),onClick:N,children:L(oe||(oe=(0,u.Z)(["DatabaseCard.button.upload"])))})]}),(0,p.jsx)(v.ZP,{item:!0,xs:1,children:(0,p.jsx)(m.Z,{fullWidth:!0,disabled:!U,onClick:X,startIcon:(0,p.jsx)(g.Z,{}),children:L(ce||(ce=(0,u.Z)(["DatabaseCard.button.download"])))})}),(0,p.jsx)(v.ZP,{item:!0,xs:1,children:(0,p.jsx)(m.Z,{fullWidth:!0,disabled:!U,color:"error",onClick:Q,startIcon:(0,p.jsx)(Z,{}),children:L(le||(le=(0,u.Z)(["DatabaseCard.button.delete"])))})})]})})]})})]})}var Ze=n(23786),ve=n(33890),me=n(25617),be=n(72828);function ye(){var e=(0,o.$)().t;return(0,p.jsxs)(C.Z,{children:[(0,p.jsxs)(r.Z,{sx:{py:1},children:[e("settings:languageCard.selectLanguage")," ",(0,p.jsx)(me.Z,{color:"warning",children:e("ui:underConstruction")})]}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{children:(0,p.jsx)(Ce,{})})]})}var we={chs:"\u4e2d\u6587 \u6b63\u4f53\u5b57",cht:"\u4e2d\u6587 \u7e41\u9ad4\u5b57",de:"Deutsch",en:"English",es:"espa\xf1ol",fr:"fran\xe7ais",id:"Bahasa Indonesia",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",pt:"Portugu\xeas",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",vi:"Ti\u1ebfng Vi\u1ec7t"};function Ce(){var e=(0,o.$)(["ui","settings"]),t=e.t,n=e.i18n,r=function(e){return function(){return n.changeLanguage(e)}},a=n.languages[0];return(0,p.jsx)(ve.Z,{fullWidth:!0,title:t("settings:languageCard.languageFormat",{language:t("languages:".concat(a))}),children:be.C.map((function(e){return(0,p.jsxs)(Ze.Z,{selected:a===e,disabled:a===e,onClick:r(e),children:[(0,p.jsx)(c.c,{i18nKey:"languages:".concat(e)}),e!==a?" (".concat(we[e],")"):""]},e)}))})}var Ie=n(72247),ke=n(9912),Se=n(12759);function De(){var e=(0,F.Z)("GlobalSettings",Se.c),t=(0,d.Z)(e,2),n=t[0].tcMode,s=t[1];return(0,p.jsx)(C.Z,{children:(0,p.jsxs)(r.Z,{children:[(0,p.jsx)(a.Z,{gutterBottom:!0,color:"warning.main",children:"Enabling this toggle will show some features that might be too complex for the average user."}),(0,p.jsx)(m.Z,{fullWidth:!0,onClick:function(){return s({tcMode:!n})},color:n?"success":"primary",startIcon:n?(0,p.jsx)(Ie.Z,{}):(0,p.jsx)(ke.Z,{}),children:"Theorycrafting Mode"})]})})}function Me(){var e=(0,o.$)(["settings"]).t;return i.ZP.send({hitType:"pageview",page:"/setting"}),(0,p.jsxs)(l.Z,{sx:{my:1},children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(a.Z,{variant:"subtitle1",children:(0,p.jsx)(c.c,{t:e,i18nKey:"title"})})}),(0,p.jsx)(s.Z,{}),(0,p.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,p.jsx)(ye,{}),(0,p.jsx)(fe,{}),(0,p.jsx)(De,{})]})]})}},12759:function(e,t,n){n.d(t,{B:function(){return i},c:function(){return s}});var r=n(93433),a=n(50765);function s(){return{tcMode:!1}}function i(){return{rvFilter:(0,r.Z)(a._),favorite:!1}}},72247:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},72456:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")}}]);
//# sourceMappingURL=571.1f81cd49.chunk.js.map